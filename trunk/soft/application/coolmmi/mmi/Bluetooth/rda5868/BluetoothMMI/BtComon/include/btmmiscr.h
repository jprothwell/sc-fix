/*****************************************************************************
*  Copyright Statement:
*  --------------------
*  This software is protected by Copyright and the information contained
*  herein is confidential. The software may not be copied and the information
*  contained herein may not be used or disclosed except with the written
*  permission of CoolSand Inc. (C) 2005
*
*  BY OPENING THIS FILE, BUYER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
*  THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("COOLSAND SOFTWARE")
*  RECEIVED FROM COOLSAND AND/OR ITS REPRESENTATIVES ARE PROVIDED TO BUYER ON
*  AN "AS-IS" BASIS ONLY. COOLSAND EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES,
*  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
*  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT.
*  NEITHER DOES COOLSAND PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE
*  SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR
*  SUPPLIED WITH THE COOLSAND SOFTWARE, AND BUYER AGREES TO LOOK ONLY TO SUCH
*  THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO. COOLSAND SHALL ALSO
*  NOT BE RESPONSIBLE FOR ANY COOLSAND SOFTWARE RELEASES MADE TO BUYER'S
*  SPECIFICATION OR TO CONFORM TO A PARTICULAR STANDARD OR OPEN FORUM.
*
*  BUYER'S SOLE AND EXCLUSIVE REMEDY AND COOLSAND'S ENTIRE AND CUMULATIVE
*  LIABILITY WITH RESPECT TO THE COOLSAND SOFTWARE RELEASED HEREUNDER WILL BE,
*  AT COOLSAND'S OPTION, TO REVISE OR REPLACE THE COOLSAND SOFTWARE AT ISSUE,
*  OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PAID BY BUYER TO
*  COOLSAND FOR SUCH COOLSAND SOFTWARE AT ISSUE. 
*
*  THE TRANSACTION CONTEMPLATED HEREUNDER SHALL BE CONSTRUED IN ACCORDANCE
*  WITH THE LAWS OF THE STATE OF CALIFORNIA, USA, EXCLUDING ITS CONFLICT OF
*  LAWS PRINCIPLES.  ANY DISPUTES, CONTROVERSIES OR CLAIMS ARISING THEREOF AND
*  RELATED THERETO SHALL BE SETTLED BY ARBITRATION IN SAN FRANCISCO, CA, UNDER
*  THE RULES OF THE INTERNATIONAL CHAMBER OF COMMERCE (ICC).
*
*****************************************************************************/
/*****************************************************************************
 *
 * Filename:
 * ---------
 * BTMMIScr.h
 *
 * Project:
 * --------
 
 *
 * Description:
 * ------------
 *   This file is the header file of btmmiscr.c
 *
 * Author:
 * -------
 * -------
 *
 *============================================================================
 *             HISTORY
 
 *------------------------------------------------------------------------------

 *------------------------------------------------------------------------------
 
 *============================================================================
 ****************************************************************************/
#ifndef __BT_MMI_SCR_H__
#define __BT_MMI_SCR_H__


#include "btmmicustdef.h"

/***************************************************************************** 
* Macro
*****************************************************************************/

#define GENERIC_BT_HILIGHT_HDLR()                               \
{                                                               \
      /* Change soft key icon and label */                      \
   ChangeLeftSoftkey(STR_GLOBAL_OK, IMG_GLOBAL_OK);             \
   ChangeRightSoftkey(STR_GLOBAL_BACK, IMG_GLOBAL_BACK);        \
   /* Register go back function key handler */                   \
   SetRightSoftkeyFunction(GoBackHistory,KEY_EVENT_UP);         \
   SetKeyHandler(GoBackHistory, KEY_LEFT_ARROW,KEY_EVENT_DOWN); \
}
#define GENERIC_BT_TOGGLE_HILIGHT_HDLR(var, cond_on, cond_off ) \
{                                                               \
   /* Change soft key icon and label */                         \
   if( var == cond_on )                                         \
   {                                                            \
      ChangeLeftSoftkey(STR_GLOBAL_OFF, IMG_GLOBAL_OK);         \
   }                                                            \
   else                                                         \
   {                                                            \
      ChangeLeftSoftkey(STR_GLOBAL_ON, IMG_GLOBAL_OK);          \
   }                                                            \
   ChangeRightSoftkey(STR_GLOBAL_BACK, IMG_GLOBAL_BACK);        \
   /* Register go back function key handler */                   \
   SetRightSoftkeyFunction(GoBackHistory,KEY_EVENT_UP);         \
   SetKeyHandler(GoBackHistory, KEY_LEFT_ARROW,KEY_EVENT_DOWN); \
}

/* Change status icon to visiable/connectable state [Blue/Blurred Blue] */
#define MMI_BT_SCR_CHANGE_ICON_SCAN(vis) \
{                                        \
   if( vis == MMI_TRUE )                 \
   {                                     \
      HideStatusIcon(STATUS_ICON_BT_ND); \
      HideStatusIcon(STATUS_ICON_BT_CON);\
      HideStatusIcon(STATUS_ICON_BT);    \
      ShowStatusIcon(STATUS_ICON_BT);    \
   }                                     \
   else                                  \
   {                                     \
      HideStatusIcon(STATUS_ICON_BT_ND); \
      HideStatusIcon(STATUS_ICON_BT_CON);\
      HideStatusIcon(STATUS_ICON_BT);    \
      ShowStatusIcon(STATUS_ICON_BT_ND); \
   }                                     \
}

/* Change status icon to connected state, [Green] */
#define MMI_BT_SCR_CHANGE_ICON_CON()  \
{                                     \
    HideStatusIcon(STATUS_ICON_BT);    \
    HideStatusIcon(STATUS_ICON_BT_CON);\
    HideStatusIcon(STATUS_ICON_BT_ND); \
    ShowStatusIcon(STATUS_ICON_BT_CON);\
}

/* Change status icon to idle state, [Blinking Blue] */
#define MMI_BT_SCR_CHANGE_ICON_BLINKING()\
{                                        \
    HideStatusIcon(STATUS_ICON_BT);      \
    HideStatusIcon(STATUS_ICON_BT_CON);  \
    HideStatusIcon(STATUS_ICON_BT_ND);   \
    BlinkStatusIcon(STATUS_ICON_BT_CON); \
}

/* Change status icon to power off state */
#define MMI_BT_SCR_CHANGE_ICON_HIDEALL()\
{                                       \
   HideStatusIcon(STATUS_ICON_BT);      \
   HideStatusIcon(STATUS_ICON_BT_CON);  \
   HideStatusIcon(STATUS_ICON_BT_ND);   \
}

/***************************************************************************** 
* Definations
*****************************************************************************/
#define MMI_BT_SCR_MAX_NUM_OF_CONTEXT_OF_PRO_CON_SCR           64
#define MMI_BT_SCR_BUF_SIZE                                    128
#define MMI_BT_UI_BUF_SIZE                                     800
#define MMI_BT_PIN_SCR_BUF_SIZE                                40
#define MMI_BT_INQUIRY_TIMEOUT_DURATION                        60       /* 60 msec */
#define MMI_BT_BT_CMD_GUARD_TIMER_DUR                          50000    /* 50 sec */
#define MMI_BT_BT_POPUP_TIMER_DUR                                500      /* 0.5 sec */
#define MMI_BT_HW_READY_TIMER_DUR                              2000     /* 2 sec */
#define MMI_BT_BT_PASSCODE_INPUT_PROMPTED_TIMER_DUR            20000    /* 20 sec */
#define MMI_BT_MAX_PASSKEY_LENGHT                              (16+1)
#define MMI_BT_BT_LP2_GUARD_TIMER_DUR                          30000    /* 30 sec */
#define MMI_BT_BT_LP2_DELAY_TIMER_DUR                          2500     /* 2.5 sec */
#define MMI_BT_BT_POWER_OFF_GUARD_TIMER_DUR                    25000    /* 25 sec */
#define MMI_BT_BT_RELEASE_ALL_CONN_GUARD_TIMER_DUR             45000    /* 45 sec */
#define MMI_BT_DUMMY_SCR_TIMER_DURATION                        5        /* 5 msec */


/* MMI BT flag bit-wise blinking flag defination */
#define MMI_BT_BLINKING_FTP_SERVER               0x00000001
#define MMI_BT_BLINKING_FTP_CLIENT               0x00000002
#define MMI_BT_BLINKING_OPP_SERVER               0x00000004
#define MMI_BT_BLINKING_OPP_CLIENT               0x00000008
#define MMI_BT_BLINKING_BIP_CLIENT               0x00000010
#define MMI_BT_BLINKING_BIP_SERVER               0x00000020
#define MMI_BT_BLINKING_BPP_CLIENT               0x00000040

/* MMI BT flag bit-wise connecting profile flag defination */
#define MMI_BT_CONNECTING_HS_PROFILE             0x00000001
#define MMI_BT_CONNECTING_HF_PROFILE             0x00000002
#define MMI_BT_CONNECTING_A2DP_PROFILE           0x00000004

#define  MMI_BT_INQ_TYPE_AUDIO                   0x00000001
#define  MMI_BT_INQ_TYPE_ALL_DEV                 0x00000002
#define  MMI_BT_INQ_TYPE_OPP_DEV                 0x00000004
#define  MMI_BT_REFRESH_PROFILE_LIST_PROF_CHO    0x00000008
#define  MMI_BT_REFRESH_PROFILE_LIST_SUP_PROF    0x00000010
#define  MMI_BT_CONFIRM_SWITCH_POWER_OFF         0x00000020
#define  MMI_BT_CONFIRM_INQ_AUDIO_DEV            0x00000040
#define  MMI_BT_CONFIRM_PAIRED_DEV_DEL           0x00000080
#define  MMI_BT_CONFIRM_PAIRED_DEV_DEL_ALL       0x00000100
#define  MMI_BT_CONFIRM_PAIRED_DEV_SCH           0x00000200
#define  MMI_BT_CONFIRM_PAIRED_DEV_OPT           0x00000400
#define  MMI_BT_CONFIRM_SET                      0x00000800
#define  MMI_BT_RESET_HW_ON                      0x00001000
#define  MMI_BT_RESET_HW_OFF                     0x00002000
#define  MMI_BT_CANCEL_INQ_BEFORE_BOND           0x00004000
#define  MMI_BT_CANCEL_INQ_All_DEV_BEFORE_BOND   0x00008000
#define  MMI_BT_AUTO_POWER_SWITCHIING            0x00010000
#define  MMI_BT_CANCEL_INQ_BEFORE_BT_CLOSE       0x00020000
#define  MMI_BT_CANCEL_INQ_BEFORE_BT_OPP_SEND    0x00040000
#define  MMI_BT_CONFIRM_SPEECH_SWITCH            0x00080000
#define  MMI_BT_ANTENNA_OFF                      0x00100000
#define  MMI_BT_ANTENNA_ON_OFF_STRESS_TEST       0x00200000
#define  MMI_BT_SCO_NEAR_END_LP_TESTING          0x00400000
#define  MMI_BT_SCO_FAR_END_LP_TESTING           0x00800000
#define  MMI_BT_AUTO_POWER_SWITCHIING_OFF        0x01000000
#define  MMI_BT_RELEASE_ALL_CONN_TIMEOUT         0x02000000
#define  MMI_BT_RESTORE_POWER_STATUS             0x04000000
#define  MMI_BT_CONNECT_HFP_FIRST_NOTIFY         0x08000000
#define  MMI_BT_INQ_TYPE_A2DP_DEV                0x10000000
#define  MMI_BT_CONFIRM_SPECIFIC_DEV             0x20000000
#define  MMI_BT_CONFIRM_SIMAP_SET                0x40000000
#define  MMI_BT_INQ_TYPE_HID_DEV                 0x80000000

/* extended flag */
#define  MMI_BT_EXT_CONFIRM_POWER_ON                 0x00000001
#define  MMI_BT_EXT_INQ_TYPE_PRINTER_DEV             0x00000002
#define  MMI_BT_EXT_INQ_TYPE_SPEC_COD_DEV            0x00000004
#define  MMI_BT_EXT_TRUNCATE_NAME_STRING             0x00000008


typedef void (*mmi_bt_select_specific_cod_dev_callback) (MMI_BOOL result, U32 lap, U8  uap, U16 nap);


/***************************************************************************** 
* Enum
*****************************************************************************/

typedef enum
{
    MMI_BT_STACK_CB_IS_ACTIVATED,
    MMI_BT_STACK_CB_IS_PANIC,
    MMI_BT_STACK_CB_IS_VIS,
    MMI_BT_STACK_CB_IS_AUTH,
    MMI_BT_STACK_CB_IS_AUD_PTH_SET_TO_HF,
    MMI_BT_STACK_CB_IS_INCALL_AUD_SWAP2BT,
    MMI_BT_STACK_CB_IS_HS_CONNECTED,
    MMI_BT_STACK_CB_IS_HFP_AUDIO_LINK_CONNECTED,
    MMI_BT_STACK_CB_IS_ANY_CONNECTION_ACTIVE,
    MMI_BT_STACK_CB_IS_CONNECTION_ACTIVE,
    MMI_BT_STACK_CB_IS_SIMAP_ACTIVATE,

    MMI_BT_STACK_CB_GET_STATE,
    MMI_BT_STACK_CB_GET_HOST_DEV_INFO,
    MMI_BT_STACK_CB_GET_DISCOV_DEV_NUM,
    MMI_BT_STACK_CB_GET_DISCOV_DEV_INFO,
    MMI_BT_STACK_CB_GET_PAIRED_DEV_NUM,
    MMI_BT_STACK_CB_GET_PAIRED_DEV_INFO,
    MMI_BT_STACK_CB_GET_EXISTED_DEV_NUM,
    MMI_BT_STACK_CB_GET_EXISTED_DEV_INFO,
    MMI_BT_STACK_CB_GET_EXISTED_CONN_INFO,
    MMI_BT_STACK_CB_GET_ACTION_ITEM_INDEX,
    MMI_BT_STACK_CB_GET_RAM_FLAG,
    MMI_BT_STACK_CB_GET_CONNECTION_TYPE,
	/* Configure Default Headset */
    MMI_BT_STACK_CB_GET_DEFAULT_HS_INDEX,

    MMI_BT_STACK_CB_ANTENNA_OFF_REQ,
    MMI_BT_STACK_CB_ANTENNA_ON_REQ,
    MMI_BT_STACK_CB_RESTART_BT_MODULE_REQ,
    MMI_BT_STACK_CB_RECOVER_PANIC_REQ,
    MMI_BT_STACK_CB_DEACTIVATE,
    MMI_BT_STACK_CB_ACTIVATE,
    MMI_BT_STACK_CB_RELEASE_ALL_CONNECT,
    MMI_BT_STACK_CB_RELEASE_DEV_CONNECT,

    MMI_BT_STACK_CB_INQUIRY,
    MMI_BT_STACK_CB_INQUIRY_CANCEL,
    MMI_BT_STACK_CB_BOND,
    MMI_BT_STACK_CB_PAIR,
    MMI_BT_STACK_CB_REFRESH_SERVICE_LIST,
    MMI_BT_STACK_CB_CONNECT,
    MMI_BT_STACK_CB_DISCONNECT,
    MMI_BT_STACK_CB_CONNECT_ACCEPT_CNF_RES,

    MMI_BT_STACK_CB_MYDEV_DEL,
    MMI_BT_STACK_CB_MYDEV_DEL_ALL,
    MMI_BT_STACK_CB_MYDEV_ADD,
    MMI_BT_STACK_CB_MYDEV_REMOVE,

    MMI_BT_STACK_CB_SET_VIS_REQ,
    MMI_BT_STACK_CB_SET_CONNECTABLE_REQ,
    MMI_BT_STACK_CB_SET_NAME_REQ,
    MMI_BT_STACK_CB_SET_AUTH_REQ,
    MMI_BT_STACK_CB_SET_SIMAP_REQ,    
    MMI_BT_STACK_CB_SET_AUD_PTH_2_HF,
    MMI_BT_STACK_CB_SET_RAM_FLAG,
    MMI_BT_STACK_CB_RESET_RAM_FLAG,
    MMI_BT_STACK_CB_SET_FLAG,
    MMI_BT_STACK_CB_RESET_FLAG,
    MMI_BT_STACK_CB_SET_STATE,
    MMI_BT_STACK_CB_SET_HEADSET_SPEAKER_GAIN,
    MMI_BT_STACK_CB_SET_DEFAULT_HS_INDEX, /* Configure Default Headset */
    MMI_BT_STACK_CB_HFP_SCO_CONN_REQ,
    MMI_BT_STACK_CB_HFP_SCO_DISCONN_REQ,
    /* Configure Default Headset */
	MMI_BT_STACK_CB_CONNECT_LAST_HEADSET_REQ,

    MMI_BT_STACK_CB_TURN_ON_SPEECH,
    MMI_BT_STACK_CB_POWER_OFF_CHIP,
    MMI_BT_STACK_CB_SWITCH_VOICE_PATH_INCALL,

    MMI_BT_STACK_CB_RESET_HFP_MODULE,
    MMI_BT_STACK_CB_RESET_A2DP_MODULE,
    MMI_BT_STACK_CB_CLOSE_SDC,

    MMI_BT_STACK_CB_PROHIBIT_OPP,
    MMI_BT_STACK_CB_PROHIBIT_FTP,
    MMI_BT_STACK_CB_PROHIBIT_SPP,
    MMI_BT_STACK_CB_PROHIBIT_DUN,
    MMI_BT_STACK_CB_PERMIT_OPP,
    MMI_BT_STACK_CB_PERMIT_FTP,
    MMI_BT_STACK_CB_PERMIT_SPP,
    MMI_BT_STACK_CB_PERMIT_DUN,
    MMI_BT_STACK_CB_PROFILE_CB_BEFORE_RELEASE_CONN,

    MMI_BT_STACK_CB_RESET_NVRAM,
    MMI_BT_STACK_CB_WRITE_NVRAM,

    MMI_BT_STACK_CB_LAST
} mmi_bt_stack_cb_type_enum;

typedef enum
{

    MMI_BT_SCR_DEVNAME_EDOPT_DONE,
    MMI_BT_SCR_DEVNAME_EDOPT_INPMETHOD,

    MMI_BT_SCR_DEVNAME_EDOPT_LAST
} MMI_BT_SCR_DEVNAME_EDOPT;

typedef enum
{
    MMI_BT_SCR_CB_DEACTIVATE,
    MMI_BT_SCR_CB_ACTIVATE,
    MMI_BT_SCR_CB_RELEASE_ALL_CONN,
    MMI_BT_SCR_CB_PROHIBIT_SERVICE,

    MMI_BT_SCR_CB_INQUIRY,
    MMI_BT_SCR_CB_INQUIRY_CFM,
    MMI_BT_SCR_CB_CANT_INQUIRY_CFM,
    MMI_BT_SCR_CB_INQUIRY_CANCEL,
    MMI_BT_SCR_CB_BOND,
    MMI_BT_SCR_CB_BOND_IND,
    MMI_BT_SCR_CB_PAIR,
    MMI_BT_SCR_CB_PAIR_RESULT,
    MMI_BT_SCR_CB_CONNECT_ACCEPT_CNF,
    MMI_BT_SCR_CB_CONNECT,
    MMI_BT_SCR_CB_CONNECT_AUTHORISE_IND,
    MMI_BT_SCR_CB_DISCONNECT,
    MMI_BT_SCR_CB_REFRESH_PROF,

    MMI_BT_SCR_CB_MYDEV_CONNECT,
    MMI_BT_SCR_CB_MYDEV_RENAME,
    MMI_BT_SCR_CB_MYDEV_AUTH,
    MMI_BT_SCR_CB_MYDEV_DEL,
    MMI_BT_SCR_CB_MYDEV_DEL_ALL,

    MMI_BT_SCR_CB_SET_VIS_REQ,
    MMI_BT_SCR_CB_SET_NAME_REQ,
    MMI_BT_SCR_CB_SET_AUTH_REQ,
    MMI_BT_SCR_CB_SET_AUD_PTH_2_HF,
    MMI_BT_SCR_CB_SET_SIMAP_REQ,
    MMI_BT_SCR_CB_ERROR,
    MMI_BT_SCR_CB_SCO_IND,
    MMI_BT_SCR_CB_PANIC_IND,

    MMI_BT_SCR_CB_DISPLAY_POPUP,
    MMI_BT_SCR_CB_SHOW_PROGRESSING,
	MMI_BT_SCR_CB_UPDATE_STATUS_ICON,

    MMI_BT_SCR_CB_LAST
} mmi_bt_scr_cb_type_enum;

typedef enum
{
    MMI_BT_SCR_STATE_NORMAL,
    MMI_BT_SCR_STATE_INQ_WAIT_CFM,
    MMI_BT_SCR_STATE_CANCEL_INQ_WAIT_CFM
} mmi_bt_scr_state_enum;

typedef enum
{

    MMI_BT_MYDEV_OPT_CONN,
    MMI_BT_MYDEV_OPT_DISCONN,
	MMI_BT_MYDEV_OPT_SET_DEFAULT_HS, /* Configure Default Headset */
    MMI_BT_MYDEV_OPT_REN,
    /* MMI_BT_MYDEV_OPT_AUTH, */
    MMI_BT_MYDEV_OPT_DEL,
    MMI_BT_MYDEV_OPT_DEL_ALL,
    MMI_BT_MYDEV_OPT_SUP_SERV,
    /* Put Inquiry NEW Device at the first item of Mydev menu */
    //MMI_BT_MYDEV_OPT_SCH,

    MMI_BT_MYDEV_OPT_LAST
} MMI_BT_MYDEV_OPT;

typedef enum
{
    MMI_BT_DEVNAME_EDOPT_DONE,
    MMI_BT_DEVNAME_EDOPT_INPMETHOD,
    MMI_BT_DEVNAME_EDOPT_LAST
} MMI_BT_DEVNAME_EDOPT;

typedef enum
{
    MMI_BT_RESULT_FAILED,
    MMI_BT_RESULT_SUCCESS,
    MMI_BT_ONE_HEADSET_CONNECTED,
    MMI_BT_ONE_A2DP_CONNECTED
} mmi_bt_result_codes;

/***************************************************************************** 
* Structure
*****************************************************************************/
typedef void (*mmi_bt_func_ptr) (void);

typedef struct
{
    U16 context_id;
    U16 context_str[MMI_BT_SCR_MAX_NUM_OF_CONTEXT_OF_PRO_CON_SCR];
    U16 scr_id;
    U16 title_str_id;
    void *fp;       /* for confirm exit func or progress rsk func */
    void *entry_fp; /* for confirm exit func or progress rsk func */
    MMI_BOOL cancel_allowed;
} mmi_bt_prog_conf_scr_struct;

typedef struct
{
    U32 lap;    /* Lower Address Part 00..23 */
    U8 uap;     /* upper Address Part 24..31 */
    U16 nap;    /* Non-significant    32..47 */
} mmi_bt_dev_addr;

typedef struct
{
    U32 cod;
    U8 name[MMI_BT_BD_NAME_LEN];
    mmi_bt_dev_addr bd_addr;
    U8 authorise;
    U8 service_list_num;
    U32 service_list[MMI_BT_MAX_HOST_SUPPORTED_PROFILE];
} mmi_bt_dev_struct;

typedef struct
{
    /*  Connection identification  */
    U8 index_of_paried_list;
    U32 conn_id;
    mmi_bt_connection_type conn_type;
    /*  Feature config  */
    U32 supported_features; /*  Negotiated - valid for current connection  */
    /* mux id for spp and dun */
    U16 mux_id;
    /*  Connection status  */
    U8 speaker_gain;
    U8 mic_gain;
    MMI_BOOL audio_on;
    MMI_BOOL active;

} mmi_bt_connect_struct;

typedef struct
{
    MMI_BOOL(*mmi_bt_is_pwron) (void);
    MMI_BOOL(*mmi_bt_is_panic) (void);
    MMI_BOOL(*mmi_bt_is_vis) (void);
    MMI_BOOL(*mmi_bt_is_auth) (void);
    MMI_BOOL(*mmi_bt_is_aud_pth_set_to_hf) (void);
    MMI_BOOL(*mmi_bt_is_incall_aud_swap2bt) (void);
    MMI_BOOL(*mmi_bt_is_hs_connected) (void);
    MMI_BOOL(*mmi_bt_is_hfp_audio_link_connected) (void);
    MMI_BOOL(*mmi_bt_is_any_connection_active) (void);
    MMI_BOOL(*mmi_bt_is_connection_active) (mmi_bt_dev_addr *);
    MMI_BOOL(*mmi_bt_is_simap_activate)(void);
    

    mmi_bt_dev_struct *(*mmi_bt_get_host_dev_info) (void);
      U8(*mmi_bt_get_discov_dev_num) (void);
    mmi_bt_dev_struct *(*mmi_bt_get_discov_dev_info) (U16 index);
      U8(*mmi_bt_get_paired_dev_num) (void);
    mmi_bt_dev_struct *(*mmi_bt_get_paired_dev_info) (U16 index);
      U8(*mmi_bt_get_existed_dev_num) (void);
    mmi_bt_dev_struct *(*mmi_bt_get_existed_dev_info) (U16 index);
    mmi_bt_connect_struct *(*mmi_bt_get_existed_conn_info) (U16 index);
      U8(*mmi_bt_get_state) (void);
      U8(*mmi_bt_get_action_item_index) (void);
      U32(*mmi_bt_get_ram_flag) (U32);
      U32(*mmi_bt_get_connection_type) (U32 prof_id);
	  /* Configure Default Headset */	
      U32(*mmi_bt_get_default_hs_index) (void);

      MMI_BOOL(*mmi_bt_antenna_off_req) (void);
      MMI_BOOL(*mmi_bt_antenna_on_req) (void);
      MMI_BOOL(*mmi_bt_restart_bt_module_req) (void);
      MMI_BOOL(*mmi_bt_recover_panic_req) (void);
      MMI_BOOL(*mmi_bt_deactivate_req) (void);  /* deactivate bt */
      MMI_BOOL(*mmi_bt_activate_req) (void);    /* activate bt */
      MMI_BOOL(*mmi_bt_release_all_connection_req) (void);
      MMI_BOOL(*mmi_bt_release_dev_connection_req) (mmi_bt_dev_addr *);
      MMI_BOOL(*mmi_bt_inquiry_req) (U8 max_response, U16 timeout, U32 cod, MMI_BOOL name_discovery, U8 inquiry_type);
      MMI_BOOL(*mmi_bt_inquiry_cancel_req) (U8 inquiry_type);
      MMI_BOOL(*mmi_bt_bond_req) (U32);
      MMI_BOOL(*mmi_bt_pair_req) (mmi_bt_dev_addr *, U8 *, MMI_BOOL);
      MMI_BOOL(*mmi_bt_send_connect_authorize_rsp) (mmi_bt_dev_addr *, MMI_BOOL);
      MMI_BOOL(*mmi_bt_refresh_service_list_req) (mmi_bt_dev_addr *dev_addr);
      MMI_BOOL(*mmi_bt_connect_req) (mmi_bt_dev_addr *dev_addr, U32 pro_uuid);
      MMI_BOOL(*mmi_bt_connect_accept_cnf_res) (mmi_bt_dev_addr *dev_addr, U32 pro_uuid, MMI_BOOL result);
      MMI_BOOL(*mmi_bt_disconnect_req) (U32 connection_id, mmi_bt_connection_type conn_type);

    //MMI_BOOL           (*mmi_bt_mydev_rename_req)(U32);
    //MMI_BOOL           (*mmi_bt_mydev_authorise_req)(U32, U32 pro_uuid);
      MMI_BOOL(*mmi_bt_mydev_del_req) (mmi_bt_dev_addr *);
      MMI_BOOL(*mmi_bt_mydev_del_all_req) (void);
      MMI_BOOL(*mmi_bt_mydev_add_req) (mmi_bt_dev_addr *);
      MMI_BOOL(*mmi_bt_mydev_remove_req) (mmi_bt_dev_addr *);
      MMI_BOOL(*mmi_bt_set_vis_req) (MMI_BOOL);
      MMI_BOOL(*mmi_bt_set_connectable_req) (MMI_BOOL);
      MMI_BOOL(*mmi_bt_set_name_req) (U8 *);
      MMI_BOOL(*mmi_bt_set_auth_req) (MMI_BOOL);
      MMI_BOOL(*mmi_bt_set_simap_req) (MMI_BOOL);
      MMI_BOOL(*mmi_bt_set_aud_pth_2_hf) (MMI_BOOL);
      MMI_BOOL(*mmi_bt_set_ram_flag_req) (U32);
      MMI_BOOL(*mmi_bt_reset_ram_flag_req) (U32);
      MMI_BOOL(*mmi_bt_set_flag_req) (U32);
      MMI_BOOL(*mmi_bt_reset_flag_req) (U32);
      MMI_BOOL(*mmi_bt_set_state) (U32);
      MMI_BOOL(*mmi_bt_set_headset_speaker_gain_req) (U8 gain, U32 conn_id);
	  /* Configure Default Headset */	
      MMI_BOOL(*mmi_bt_set_default_hs_index) (U32);
      MMI_BOOL(*mmi_bt_hfp_sco_link_connect_req) (void);
      MMI_BOOL(*mmi_bt_hfp_sco_link_disconnect_req) (void);
      /* Configure Default Headset */
      MMI_BOOL(*mmi_bt_connect_last_headset_req) (void);

      MMI_BOOL(*mmi_bt_nvram_reset_info) (void);
      MMI_BOOL(*mmi_bt_nvram_write_info) (void);

      MMI_BOOL(*mmi_bt_turn_on_speech_req) (MMI_BOOL speech_on);
    void (*mmi_bt_pwroff) (void);   /* power off bt chip */
      U8(*mmi_bt_switch_voice_path_incall) (MMI_BOOL is_on);

      MMI_BOOL(*mmi_bt_reset_hfp_module) (void);
      MMI_BOOL(*mmi_bt_reset_a2dp_module) (void);
      MMI_BOOL(*mmi_bt_close_sdc_req) (void);

      MMI_BOOL(*mmi_bt_prohibit_opp_req) (void);
      MMI_BOOL(*mmi_bt_prohibit_ftp_req) (void);
      MMI_BOOL(*mmi_bt_prohibit_spp_req) (void);
      MMI_BOOL(*mmi_bt_prohibit_dun_req) (void);
      MMI_BOOL(*mmi_bt_permit_opp_req) (void);
      MMI_BOOL(*mmi_bt_permit_ftp_req) (void);
      MMI_BOOL(*mmi_bt_permit_spp_req) (void);
      MMI_BOOL(*mmi_bt_permit_dun_req) (void);

    void (*mmi_bt_profile_callback_before_release_connection_hdler) (U32 lap, U8 uap, U16 nap, U32 profile_id,
                                                                     U32 connection_id);
} mmi_bt_stack_cbfunc_tbl;

typedef struct
{

    /* flag */
    U32 flag;
    U32 flag_extended;

    /* status icon blinking flag */
    U32 blinking_flag;

    /* bt screen state */
    mmi_bt_scr_state_enum state;

    /* Hightlight item */
    U32 hilight_item;
    /* connected profile hilight item */
    U32 conn_prof_hilight_item;

    /* UI Buffer */
    /* for name display */
    U8 scr_buf[MMI_BT_SCR_BUF_SIZE];
    /* for about menu and enter pin of device name */
    U8 ui_buf[MMI_BT_UI_BUF_SIZE];
    /* for passkey input */
    U8 pin_scr_buf[MMI_BT_PIN_SCR_BUF_SIZE];

    /* connecting dev and profile */
    mmi_bt_dev_addr conn_dev_add;
    U32 conn_profile_id;
    U32 disconn_conn_type;
    /* name of connect authorize ind */
    U8 *authorize_name_p;
    mmi_bt_dev_addr authorize_dev_add;
    U32 authorize_conn_id;
    mmi_bt_connection_type authorize_conn_type;
    U32 authorize_prof_id;

    /* dis or connecting profile */
    U32 connecting_profile;
    U32 disconnecting_conn_type;


	/**************************/
	/* interrupt suppress     */
	/**************************/
	/* BT interrupt suppress mechanism */ 
    MMI_BOOL int_suppress_switch;
    U32 int_suppress_level;
    U32 suppress_profile[MMI_BT_MAX_HOST_SUPPORTED_PROFILE];

    /* for specific cod mask */
    U32 specific_cod_mask;
    /* for select service */
    U32 specific_service_id;
    /* for select device callback */
    mmi_bt_select_specific_cod_dev_callback select_device_cb;
    /* device address of specific device */
    mmi_bt_dev_struct selected_spec_dev;

    /* Store END key handler void(*)(void) */
    FuncPtr keydown_fp;
    FuncPtr keyup_fp;
    /* Store power on confirm handler void(*)(void) */
    FuncPtr pwr_on_cb;


    /* progressing and confirm screen context */
    mmi_bt_prog_conf_scr_struct prog_scr;
    mmi_bt_prog_conf_scr_struct conf_scr;    
    U8 extend_proc_timer;

    /* Register bt stack callback function */
    mmi_bt_stack_cbfunc_tbl stack_cb_tbl;

    /* sco far end loopback testing information */
    mmi_bt_dev_addr far_end_dev_add;
    U8 far_end_dev_pin[MMI_BT_MAX_PASSKEY_LENGHT + 1];
    U8 test_by_at;
    U8 test_by_em;

    MMI_BOOL reset_gui_buffer_flag;

} mmi_bt_scr_cntx_struct;

/***************************************************************************** 
* External Global Variable
*****************************************************************************/
extern mmi_bt_scr_cntx_struct g_mmi_bt_scr_cntx;

/***************************************************************************** 
* Extern Global Function
*****************************************************************************/
/* init */
extern void mmi_bt_scr_init(void);
extern void mmi_bt_init_menu_highlight_hdlr(void);
extern void mmi_bt_init_stack_cb(void);
extern void mmi_bt_init_scr_cb(void);
extern void mmi_bt_reg_stack_cb(mmi_bt_stack_cb_type_enum type, void *fp);
extern void mmi_bt_reg_scr_cb(mmi_bt_scr_cb_type_enum type, void *fp);
extern void mmi_bt_deinit(void);

/* api to get discoved dev info */
extern void mmi_bt_inquiry_opp_dev(void);
extern void mmi_bt_inquiry_a2dp_dev(void);
extern void mmi_bt_inquiry_remote_ctrl_dev(void);
extern void mmi_bt_inquiry_printer_dev(void);
extern void mmi_bt_inquiry_specific_cod_dev(void);
extern U32 mmi_bt_get_hilight_index_of_discov_dev(void);
extern MMI_BOOL mmi_bt_get_discoveryed_dev_info(U32 index, mmi_bt_dev_struct *dev_p);
extern void mmi_bt_open(void);
extern void mmi_bt_close(void);

/* Higilight handler */
extern void mmi_bt_main_hilight_handler(void);
extern void mmi_bt_power_hilight_handler(void);
extern void mmi_bt_sch_aud_dev_hilight_handler(void);
extern void mmi_bt_mydev_hilight_handler(void);
extern void mmi_bt_act_dev_hilight_handler(void);
extern void mmi_bt_set_hilight_handler(void);
extern void mmi_bt_set_vis_hilight_handler(void);
extern void mmi_bt_set_name_hilight_handler(void);
extern void mmi_bt_set_auth_hilight_handler(void);
extern void mmi_bt_set_aud_path_hilight_handler(void);
extern void mmi_bt_set_aud_path_phone_hilight_handler(void);
extern void mmi_bt_set_aud_path_hf_hilight_handler(void);
extern void mmi_bt_set_simap_hilight_handler(void);
extern void mmi_bt_about_hilight_handler(void);

/* Hint handler */
extern void mmi_bt_power_hint_handler(U16 index);
extern void mmi_bt_set_vis_hint_handler(U16 index);
extern void mmi_bt_set_auth_hint_handler(U16 index);
extern void mmi_bt_set_name_hint_handler(U16 index);
extern void mmi_bt_set_path_hint_handler(U16 index);
extern void mmi_bt_set_simap_hint_handler(U16 index);


/* Entry function */
/*******************************/
/* main menu */
/*******************************/
extern void mmi_bt_entry_main_menu(void);
extern void mmi_bt_exit_main_menu(void);

/*******************************/
/* power */
/*******************************/
extern void mmi_bt_entry_power_switch(void);
extern void mmi_bt_exit_power_switch(void);
extern void mmi_bt_power_off_guard_timeout_hdler(void);
extern void mmi_bt_entry_release_all_connections(void);
extern void mmi_bt_release_all_conn_complete(MMI_BOOL result);
extern void mmi_bt_release_all_conn_guard_timeout_hdler(void);
extern void mmi_bt_release_all_conn_guard_timeout_goback_history_hdler(void);
extern void mmi_bt_power_switch_confirm_rsk_hdler(void);
extern void mmi_bt_entry_release_device_connections(void);
extern void mmi_bt_power_switch_on_complete(MMI_BOOL result);   /* power switch rsp */
extern void mmi_bt_power_switch_off_complete(MMI_BOOL result);  /* power switch rsp */

/*******************************/
/* inquiry audio dev */
/*******************************/
extern void mmi_bt_entry_inq_aud_dev(void);             /* discov req */
extern void mmi_bt_exit_inq_aud_dev(void);
extern void mmi_bt_inq_aud_dev_confirm_rsk_hdler(void);
extern void mmi_bt_entry_inq_result(void);              /* discov ind */
extern void mmi_bt_inquiry(
                U8 max_response,
                U16 timeout,
                U32 cod,
                MMI_BOOL name_discovery,
                U16 title_str_id,
                U8 inquiry_type);
extern U8 mmi_bt_inq_progress_del_cb(void);
extern void mmi_bt_inq_result_hilite_hdlr(S32 idx);
extern void mmi_bt_exit_inq_result(void);
extern U8 mmi_bt_inq_result_del_cb(void);
extern void mmi_bt_inq_result_cancel(void);             /* cancel discov req */
extern void mmi_bt_inq_result_goback(void);
extern void mmi_bt_inq_result_endkey(void);
extern void mmi_bt_inq_complete(MMI_BOOL result);       /* discov cfm or discov-cancel cfm */
extern void mmi_bt_inq_Cant(void);   /* discov cfm or discov-cancel cfm */
extern void mmi_bt_entry_bonding(void);                 /* bond req */
extern void mmi_bt_exit_bonding(void);
extern void mmi_bt_opp_sending(void);
extern void mmi_bt_entry_passkey_input(void);           /* passkey ind */
extern void mmi_bt_exit_passkey_input(void);
extern void mmi_bt_send_passkey(void);
extern U8 mmi_bt_passkey_input_scr_del_callback(void);
extern void mmi_bt_passkey_input_goback(void);
extern void mmi_bt_passkey_input_endkey(void);
extern void mmi_bt_passkey_validation_func(U8 *text, U8 *cursor, S32 length);
extern void mmi_bt_passkey_input_timeout_hdlr(void);
extern void mmi_bt_entry_pairing(void); // passkey res  /* after bonding, shall do sdc searching in background */
extern void mmi_bt_exit_pairing(void);
extern void mmi_bt_pair_complete(void);                 /* bond ind and cfm, then sdc req */
extern void mmi_bt_entry_pair_result(MMI_BOOL res);
extern void mmi_bt_entry_bond_result(MMI_BOOL res);
extern void mmi_bt_entry_connect_confirm( /* MMI_BOOL res */ void);     /* sdc close ind */
extern void mmi_bt_exit_connect_confirm(void);
extern void mmi_bt_connect_confirm_goback(void);
extern void mmi_bt_connect_confirm_endkey(void);
extern void mmi_bt_entry_connecting(void);              /* connect req */
extern void mmi_bt_exit_connecting(void);
extern void mmi_bt_connecting(mmi_bt_dev_addr *dev_addr, U32 pro_uuid);
extern void mmi_bt_connecting_hsp(void);
extern void mmi_bt_connect_complete(U32 connection_type, MMI_BOOL result);      /* connect ind */
extern void mmi_bt_entry_connected_service_choosing(void);
extern void mmi_bt_exit_connected_service_choosing(void);
extern void mmi_bt_connect_accept_cnf_req(U8 *name_p, U32 uap, U8 lap, U16 nap, U32 conn_id, U32 conn_type);
extern void mmi_bt_entry_connect_accept_cnf(void);
extern void mmi_bt_exit_connect_accept_cnf(void);
extern U8 mmi_bt_connect_accept_cnf_scr_del_callback(void);
extern void mmi_bt_connect_accept_cnf_accepted(void);
extern void mmi_bt_connect_accept_cnf_rejected(void);
extern void mmi_bt_connect_accept_cnf_end_key(void);
extern void mmi_bt_connect_authorise_ind(U8 *name_p, U32 conn_id, U32 conn_type);
extern void mmi_bt_entry_connect_authorise(void);
extern void mmi_bt_exit_connect_authorise(void);
extern U8 mmi_bt_connect_authorise_scr_del_callback(void);
extern void mmi_bt_connect_authorised(void);
extern void mmi_bt_connect_inauthorised(void);
extern void mmi_bt_connect_authorise_end_key(void);

/*******************************/
/* my device */
/*******************************/
extern void mmi_bt_entry_mydev_menu(void);
extern void mmi_bt_exit_mydev_menu(void);
extern void mmi_bt_update_mydev_menu(void);
extern void mmi_bt_mydev_hilite_hdlr(S32 idx);

/*******************************/
/* my device option */
/*******************************/
extern void mmi_bt_entry_mydev_opt(void);
extern void mmi_bt_exit_mydev_opt(void);
extern void mmi_bt_update_mydev_opt(void);
extern void mmi_bt_mydev_opt_hilite_hdlr(S32 idx);
extern void mmi_bt_mydev_opt_confirm_rsk_hdler(void);

/*******************************/
/* mydev => connect  */
/*******************************/
extern void mmi_bt_entry_mydev_prof_choose(void);
extern void mmi_bt_exit_mydev_prof_choose(void);
extern void mmi_bt_mydev_prof_choose_hilite_hdlr(S32 indx);
extern void mmi_bt_prof_choose_refresh_prof_list(void);
extern void mmi_bt_refresh_prof_complete(MMI_BOOL result);
extern void mmi_bt_entry_mydev_conn(void);
extern void mmi_bt_exit_mydev_conn(void);

/*******************************/
/* mydev => disconnect  */
/*******************************/
extern void mmi_bt_entry_mydev_connected_prof(void);
extern void mmi_bt_exit_mydev_connected_prof(void);
extern void mmi_bt_update_mydev_connected_prof_screen(void);
extern void mmi_bt_mydev_connected_prof_hilite_hdlr(S32 indx);
extern void mmi_bt_mydev_connected_prof_disconn(void);

/* Configure Default Headset */
/*******************************/
/* mydev => set default hs  */
/*******************************/
extern void mmi_bt_entry_mydev_set_default_hs(void);

/*******************************/
/* mydev => rename  */
/*******************************/
extern void mmi_bt_entry_mydev_ren(void);
extern void mmi_bt_exit_mydev_ren(void);
extern void mmi_bt_entry_mydev_ren_edopt(void);
extern void mmi_bt_mydev_ren_edopt_hilite_hdlr(S32 idx);
extern void mmi_bt_mydev_ren_proc(void);

/*******************************/
/* mydev => delete */
/*******************************/
extern void mmi_bt_entry_mydev_del(void);
extern void mmi_bt_exit_mydev_del(void);
extern void mmi_bt_mydev_del_complete(U8 res);
extern void mmi_bt_mydev_del_confirm_rsk_hdler(void);

/*******************************/
/* mydev => delete all */
/*******************************/
extern void mmi_bt_entry_mydev_del_all(void);
extern void mmi_bt_exit_mydev_del_all(void);
extern void mmi_bt_mydev_del_all_confirm_rsk_hdler(void);

/*******************************/
/* mydev => authorise */
/*******************************/
extern void mmi_bt_entry_mydev_auth(void);
extern void mmi_bt_exit_mydev_auth(void);

/*******************************/
/* mydev => supported service */
/*******************************/
extern void mmi_bt_entry_mydev_sup_ser(void);
extern void mmi_bt_exit_mydev_sup_ser(void);
extern void mmi_bt_sup_ser_refresh_prof_list(void);

/*******************************/
/* mydev => inquiry */
/*******************************/
extern void mmi_bt_entry_mydev_sch(void);
extern void mmi_bt_exit_mydev_sch(void);
extern void mmi_bt_update_act_dev_screen(void);
extern void mmi_bt_mydev_sch_confirm_rsk_hdler(void);

/*******************************/
/* active device */
/*******************************/
extern void mmi_bt_entry_act_dev_menu(void);
extern void mmi_bt_exit_act_dev_menu(void);
extern void mmi_bt_act_dev_hilite_hdlr(S32 idx);
extern void mmi_bt_entry_act_dev_dis(void);
extern void mmi_bt_entry_disconnect_complete(U32 connection_type, MMI_BOOL result);

/*******************************/
/* set menu */
/*******************************/
extern void mmi_bt_entry_set_menu(void);
extern void mmi_bt_exit_set_menu(void);
extern void mmi_bt_set_menu_confirm_rsk_hdler(void);

/*******************************/
/* set menu => set vis */
/*******************************/
extern void mmi_bt_entry_set_vis(void);
extern void mmi_bt_exit_set_vis(void);
extern void mmi_bt_set_vis_complete(MMI_BOOL result);

/*******************************/
/* set menu => set auth */
/*******************************/
extern void mmi_bt_entry_set_auth(void);
extern void mmi_bt_exit_set_auth(void);
extern void mmi_bt_set_auth_complete(MMI_BOOL result);

/*******************************/
/* set menu => set name */
/*******************************/
extern void mmi_bt_entry_set_name(void);
extern void mmi_bt_exit_set_name(void);
extern void mmi_bt_goback_2_history(void);
extern void mmi_bt_set_name_opt(void);
extern void mmi_bt_set_name_opt_hilite_hdlr(S32 idx);
extern void mmi_bt_set_name_proc(void);
extern void mmi_bt_set_name_proc_complete(MMI_BOOL result);

/*******************************/
/* set menu => set audio path */
/*******************************/
extern void mmi_bt_entry_set_audio_pth_menu(void);
extern void mmi_bt_exit_set_audio_pth_menu(void);
extern void mmi_bt_set_audio_pth_proc(void);

/*******************************/
/* set menu => set simap */
/*******************************/
extern void mmi_bt_entry_set_simap(void);
extern void mmi_bt_exit_set_simap(void);
extern void mmi_bt_set_simap_confirm_rsk_hdler(void);
extern void mmi_bt_set_simap_complete(MMI_BOOL result);

/*******************************/
/* about */
/*******************************/
extern void mmi_bt_entry_about(void);
extern void mmi_bt_exit_about(void);

/*******************************/
/* my specific dev */
/*******************************/
extern void mmi_bt_entry_specific_cod_device(U32 cod_mask);
extern void mmi_bt_entry_my_specific_dev_menu(void);
extern void mmi_bt_exit_my_specific_dev_menu(void);
extern void mmi_bt_entry_my_specific_dev_rsk_hdler(void);
extern void mmi_bt_my_specific_dev_hilite_hdlr(S32 idx);
extern void mmi_bt_select_my_specific_dev(void);
extern void mmi_bt_entry_dummy_specific_cod_device(void);
extern U8 mmi_bt_dummy_specific_cod_device_del_cb(void *p);
extern void mmi_bt_dummy_specific_cod_device_timer_expire_hdlr(void);

/*******************************/
/* confirm screen */
/*******************************/
extern void mmi_bt_display_power_on_confirm(U32 flag);
extern void mmi_bt_entry_power_on_confirm(void);
extern void mmi_bt_exit_power_on_confirm(void);
extern U8 mmi_bt_entry_power_on_confirm_del_cb(void);
extern void mmi_bt_entry_power_on_confirm_rsk_hdler(void);

extern void mmi_bt_display_release_all_connection_confirm(U32 flag);
extern void mmi_bt_entry_release_all_connection_confirm(void);
extern void mmi_bt_exit_release_all_connection_confirm(void);
extern U8 mmi_bt_entry_release_all_connection_confirm_del_cb(void);
extern void mmi_bt_entry_release_all_connection_confirm_rsk_hdler(void);

extern void mmi_bt_display_release_dev_connection_confirm(U32 flag);
extern void mmi_bt_entry_release_dev_connection_confirm(void);
extern void mmi_bt_exit_release_dev_connection_confirm(void);
extern U8 mmi_bt_entry_release_dev_connection_confirm_del_cb(void);
extern void mmi_bt_entry_release_dev_connection_confirm_rsk_hdler(void);

/* connect confirm */
extern void mmi_bt_display_connect_profile_connection_confirm(U32 flag);
extern void mmi_bt_entry_connect_profile_connection_confirm(void);
extern void mmi_bt_exit_connect_profile_connection_confirm(void);
extern U8 mmi_bt_entry_connect_profile_connection_confirm_del_cb(void);
extern void mmi_bt_entry_connect_profile_connection_confirm_rsk_hdler(void);

/* Processing and Confirm Screen */
extern void mmi_bt_show_popup_scr(U8 *string, U16 imageId, U8 imageOnBottom, U32 popupDuration, U8 toneId);
extern void mmi_bt_show_progress_scr(
                U16 scrid,
                U16 title,
                U16 context_id,
                U16 *context_str,
                MMI_BOOL cancel_key,
                FuncPtr fp);
extern void mmi_bt_stop_progress_scr(BOOL is_goback);
extern void mmi_bt_entry_progress_scr(void);
extern void mmi_bt_exit_progress_scr(void);
extern void mmi_bt_scr_proc_guard_tout_hdlr(void);
extern U16 mmi_bt_get_progress_scr(void);
extern void mmi_bt_show_confirm_scr(U16 scr_id, U32 msg_id, FuncPtr exit_hdlr, FuncPtr entry_hdlr);
extern void mmi_bt_entry_confirm(void);

/* misc  */
extern void mmi_bt_del_scr(U32 start_scrid, U32 end_scrid);
extern void mmi_bt_store_endkey_hdlr(void);
extern void mmi_bt_restore_endkey_hdlr(void);
extern void mmi_bt_clear_endkey_hdlr(void);
extern void mmi_bt_exe_endkey_hdlr(void);
extern MMI_BOOL mmi_bt_check_supported_profile(U32 *service_list, U32 profile_id);
extern MMI_BOOL mmi_bt_check_supported_connection_type(U32 *connect_type_list, U32 connect_type);
extern mmi_bt_result_codes mmi_bt_connecting_pre_check(mmi_bt_dev_addr *dev_addr, U32 pro_uuid);
extern MMI_BOOL mmi_bt_get_profile_str_id(U16 profile_uuid, U8 **str);
extern MMI_BOOL mmi_bt_get_connect_type_str_id(mmi_bt_connection_type conn_type, U8 **str);
extern void mmi_bt_update_status_icon(void);
extern void mmi_bt_prohibit_service_complete(MMI_BOOL result);
extern MMI_BOOL mmi_bt_is_paired_device(mmi_bt_dev_addr *dev_addr);
extern void mmi_bt_error(void);
extern void mmi_bt_sco_ind(MMI_BOOL res);
extern void mmi_bt_reset_scr_flag(void);
extern void mmi_bt_loopback_req_ind_hdler(void *msg_ptr);
extern void mmi_bt_loopback_test_timeout_hdler(void);
extern void mmi_bt_loopback_delay_timeout_hdler(void);
extern void mmi_bt_send_l4_msg(U32 msg_id, void *p_local_para, void *p_peer_buff);
extern MMI_BOOL mmi_bt_is_permission(MMI_BOOL);
extern MMI_BOOL mmi_bt_test_ucs2(U16 *buf, U16 char_num);
extern void mmi_bt_truncate_ucs2_string(U16 *buf, U16 char_num, U16 truncate_char_num);
extern U16 mmi_bt_test_2bytes_ucs2_char_in_utf8_string(U8 * buf, U8 char_num);
extern void mmi_bt_copy_n_utf8_chars(U8 *dest, U16 size_of_dest, U8 *src, U8 char_num);
extern MMI_BOOL mmi_bt_is_service_support(mmi_bt_dev_struct *dev_p, U32 service_id);
extern void mmi_bt_delete_screen(U16 screen_id, MMI_BOOL go_back_history);

#endif /* __BT_MMI_SCR_H__ */ /* end of __BT_MMI_SCR_H__ */

