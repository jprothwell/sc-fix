////////////////////////////////////////////////////////////////////////////////
//                                                                            //
//            Copyright (C) 2003-2008, Coolsand Technologies, Inc.            //
//                            All Rights Reserved                             //
//                                                                            //
//      This source code is the property of Coolsand Technologies and is      //
//      confidential.  Any  modification, distribution,  reproduction or      //
//      exploitation  of  any content of this file is totally forbidden,      //
//      except  with the  written permission  of  Coolsand Technologies.      //
//                                                                            //
////////////////////////////////////////////////////////////////////////////////
//
//  $HeadURL$
//  $Author$
//  $Date$
//  $Revision$
//
////////////////////////////////////////////////////////////////////////////////
//
/// @file fstrace.c
///
/// fs Trace service
//
////////////////////////////////////////////////////////////////////////////////


// =============================================================================
// HEADERS                                                                      
// =============================================================================



#include "fstraces.h"
#include "sxs_rmt.h"
#include "sxs_io.h"


// =============================================================================
// MACROS                                                                       
// =============================================================================


// =============================================================================
// TYPES                                                                        
// =============================================================================


// =============================================================================
// PRIVATE VARIABLES                                                            
// =============================================================================


// =============================================================================
// PRIVATE FUNCTIONS                                                            
// =============================================================================

// =============================================================================
// GLOBAL VARIABLES                                                             
// =============================================================================

// =============================================================================
// FUNCTIONS                                                                    
// =============================================================================

// =============================================================================
// fstraces_Open
// -----------------------------------------------------------------------------
/// enable recording trace to T card
// =============================================================================
PUBLIC VOID fstraces_Open()
{
    sxs_enableExternalTrace();
}

// =============================================================================
// fstraces_Close
// -----------------------------------------------------------------------------
/// Disable recording trace to T card
// =============================================================================
PUBLIC VOID fstraces_Close(VOID)
{
    sxs_disableExternalTrace();
}

// =============================================================================
// fstraces_Read
// -----------------------------------------------------------------------------
/// Read a bunch of data from the debug remote buffer.
/// @param data   points a buffer where data must be copied.
/// @param data_len      Size in bytes of buffer pointed by data.
// =============================================================================
PUBLIC UINT16  fstraces_Read(UINT8 *data,UINT16 data_len)
{
	return(sxs_ReadTxRmtData(data,data_len,0));
}

// =============================================================================
// fstraces_setLevel
// -----------------------------------------------------------------------------
/// Set trace level
/// @param Id   trace Id
/// @param LevelBitmap, bitmap of trace Id
// =============================================================================
PUBLIC VOID fstraces_setLevel(UINT8 Id, UINT16 LevelBitmap )
{
	sxs_SetTraceLevel(Id, LevelBitmap);
}

// =============================================================================
// fstraces_getStatus
// -----------------------------------------------------------------------------
/// Get status of external trace flag
// =============================================================================
PUBLIC UINT32 fstraces_getStatus()
{
	UINT32 flag;
	flag=sxs_getExternalTraceFlag();
	return (flag);
		
}


