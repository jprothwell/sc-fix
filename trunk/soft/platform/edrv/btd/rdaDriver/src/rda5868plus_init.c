/*************************************************************************
 *
 * MODULE NAME:    rda5868plus_init.c
 * PROJECT CODE:   rda5868
 * DESCRIPTION:    rda5868plus_init initiation.
 * MAINTAINER:     mql
 * CREATION DATE:  24/04/10
 *
 * SOURCE CONTROL: $Id: rda5868plus_init.c 5857 2011-02-12 09:15:12Z huazeng $
 *
 * LICENSE:
 *     This source code is copyright (c) 2010-2011 rda.
 *     All rights reserved.
 *
 * NOTES TO USERS:
 *   
 *   version 3.2
 *				 
 *************************************************************************/
#ifdef __BT_RDABT__
#include "kal_release.h"      	/* Basic data type */
#include "stack_common.h"          /* message and module IDs */
#include "stack_msgs.h"            /* enum for message IDs */
#include "app_ltlcom.h"       	/* Task message communiction */
//#include "syscomp_config.h"         /* type of system module components */ 
//#include "task_config.h"      	/* Task creation */
#include "stacklib.h"        	   /* Basic type for dll, evshed, stacktimer */
#include "event_shed.h"       	/* Event scheduler */
#include "stack_timer.h"      	/* Stack timer */
#include "stdio.h"                  /* Basic C I/O functions */
//#include "eint.h"                   /* External interrupt */

#include "uart_sw.h"               /* header file for UART */
#include "rdabt_drv.h"

#ifdef __RDA_CHIP_R7_5868plus__



const unsigned short rdabt_rf_init_7[][2] = 
{
{0x3f,0x0000},///page down
{0x01,0x010F},//
{0x0A,0x2004},//
{0x16,0x9D2A},// XTAL cap
{0x19,0xFb78},// 20090122
{0x1A,0x034E},// tmx_lo_reg,tmx_out_reg
{0x27,0x0800},// pll_stable_bypass
{0x3B,0x31EA},// Freq setting available immediately
{0x3D,0xF9F8},// lp4_en_deepsleep
{0x3f,0x0001},///page up
{0x04,0x0416},// int_reg_sw_en
{0x06,0x262C},// reg1_dvdd_ref_bit_deepsleep
{0x07,0x0624},// reg3_dvdd_ref_bit_deepsleep
#ifdef __RDA_SLEEP_ROM__
{0x08,0x2224},
#else
{0x08,0x2624},// Reg4_pu_deepsleep
#endif
//{0x0b,0x001f},// Thermo_tmx_gain  TX power
{0x10,0x0100},// Thermo_tmx_gain  TX power
{0x13,0x0019},//pll_reg_presc_dr  
{0x19,0x001F},// thermo_pll_lobuf_ibit
{0x1a,0x0406},
{0x20,0x0D10},// PADrv_gain
{0x21,0x15A2},// PADrv_gain
{0x22,0x1DB2},// PADrv_gain
{0x23,0x25C2},// PADrv_gain
{0x24,0x2E52},// PADrv_gain
{0x25,0x3662},// PADrv_gain
{0x26,0x3A70},// PADrv_gain
//{0x27,0x007a},
{0x3f,0x0000}///page down

};



const kal_uint32 rdabt_pskey_rf_7[][2] =                                                                            
{                                                                                                              
{0x40240000,0x0004F398},//enable spi2                          
{0x10000080,0x00000007},//PSKEY: Total number                  
{0x10000084,0x00470d37},//PSKEY: GFSK ct_u                     
{0x10000088,0x00482a57},//PSKEY: DPSK ct_u                     
{0x1000008c,0x00520400},//PSKEY: Ref_ready_th                  
{0x10000090,0x00530511},//PSKEY: Mix_guard_th                  
{0x10000094,0x00437f58},//PSKEY: TX Delay                      
{0x10000098,0x00300029},//PSKEY: clear chip_self_cal_enable bit
{0x1000009c,0x0030002b},//PSKEY: set chip_self_cal_enable bit  
{0x10000000,0x10000000},//pskey flag                           
};

const kal_uint32 rdabt_pskey_7[][2] =
{

#ifdef __RDA_SHARE_CRYSTAL__
{0x10000030,0x0000210A},//pskey sco cfg
{0x4024001C,0x00408155},//clock req
#else
{0x10000030,0x0000200A},//pskey sco cfg
#endif

{0x10000034,0xa5025010},//pskey shorter timing sleep
{0x10000038,0x0F055000},//pskey rf delay
{0x1000003C,0xA0A0BF40},//pskey rf timing
{0x10000000,0x0000F000},//pskey flag

//{0x100067CC,0x788DFFFF},//disable edr

{0x40240000,0x0000F298},//disable spi2

 
//{0x50000044,0x00120005},//set auto baud to 57600
};




#ifdef _RDA_PATCH_UART_

const kal_uint32 rda_patch_7[][62] = 
{
{0x10005C00,0xE92D40F8,0xE1A06000,0xE3500001,0x13560000,0xE1A04001,0x1A00007F,0xE59F72D8,0xE3560001,0x1A00000C,0xE5940000,0xE5D01003,0xE5D02004,0xE1815402,0xE245CCFC,0xE25CC042,0x03A01004,0x05C01006,0xE245CCFC,0xE25CC056,0x05940000,0x0B0000F3,0xEA00001C,0xE3560000,0x1A00001A,0xE5940000,0xE5D01000,0xE5D02001,0xE1815402,0xE245CCFC,0xE25CC0C4,0x1A00000E,0xE5D00002,0xE3500010,0x9A000010,0xE240100D,0xE3A00000,0xE5942000,0xE0813000,0xE7D22003,0xE0873000,0xE2800001,0xE3500010,0xE5C32008,0x3AFFFFF7,0xE3A00001,0xE5C70000,0xE245CEC0,0xE25CC003,0x05D70000,0x03500001,0x0B00010E,0xE5D70000,0xE3500002,0x1A00003C,0xE5940000,0xE5D72018,0xE5D01000,0xE3560000,0xE0211002,0xE5C01000,0x1A00000B},
{0x10005CF4,0xE5940000,0xE5D72019,0xE5F01001,0xE0211002,0xE5C01000,0xE1A00004,0xEB00007C,0xE5940000,0xE5D01000,0xE5D00001,0xE1815400,0xEA00002B,0xE5D70018,0xE5CD0000,0xE5D70019,0xE5CD0001,0xE5D7001A,0xE5CD0002,0xE5D7001B,0xE5CD0003,0xE3A00002,0xEA00001C,0xE2401001,0xE2111003,0x1A000013,0xE5DD2000,0xE5DD3000,0xE1A021A2,0xE1822283,0xE5CD2000,0xE5DD2001,0xE5DD3001,0xE1A021A2,0xE1822283,0xE5CD2001,0xE5DD2002,0xE5DD3002,0xE1A021A2,0xE1822283,0xE5CD2002,0xE5DD2003,0xE5DD3003,0xE1A021A2,0xE1822283,0xE5CD2003,0xE5942000,0xE7DD1001,0xE7F23000,0xE2800001,0xE0231001,0xE5C21000,0xE1D410BC,0xE1510000,0x8AFFFFDF,0xE3560000,0x1A000011,0xE5D70000,0xE3500002,0x0245CCFC,0x025CC056,0x1A00000B},
{0x10005DE8,0xE5940000,0xE5D00003,0xE5C70024,0xE5940000,0xE5D00004,0xE5C70025,0xE5940000,0xE5D00005,0xE5C70026,0xE5940000,0xE5D00006,0xE5C70027,0xE8BD80F8,0xE3560001,0x1AFFFFFC,0xE5D70000,0xE3500002,0x1A00001F,0xE245CCFC,0xE25CC0DF,0x1AFFFFF6,0xE59FC0B8,0xE3A00000,0xE0871000,0xE5D13020,0xE1A02183,0xE18222A3,0xE7DC3000,0xE0822003,0xE20220FF,0xE1A03222,0xE1832202,0xE5D13024,0xE20220FF,0xE0222003,0xE1A031A2,0xE1832282,0xE5D13018,0xE0822003,0xE20220FF,0xE1A03122,0xE1832302,0xE7CD2000,0xE2800001,0xE3500004,0xE5C12018,0x3AFFFFE7,0xEB000044,0xE3560001,0x1AFFFFD9,0xE5D70000,0xE3500001,0x0245CEC0,0x025CC003,0x1AFFFFD4,0xE3A00002,0xE5C70000,0xE59F302C,0xE3A00000,0xE1A01007,0xE7D32000},
{0x10005EDC,0xE081C000,0xE2800001,0xE3500007,0xE5CC2001,0x3AFFFFF9,0xEB000031,0xEAFFFFC7,0x10006174,0x100067A8,0x1000A2AC,0xE59F10AC,0xE92D4008,0xE5D12018,0xE5CD2000,0xE5D12019,0xE5CD2001,0xE5D1201A,0xE5CD2002,0xE5D1101B,0xE5CD1003,0xE3A01003,0xEA00001C,0xE2412001,0xE2122003,0x1A000013,0xE5DD3000,0xE5DDC000,0xE1A032A3,0xE183318C,0xE5CD3000,0xE5DD3001,0xE5DDC001,0xE1A032A3,0xE183318C,0xE5CD3001,0xE5DD3002,0xE5DDC002,0xE1A032A3,0xE183318C,0xE5CD3002,0xE5DD3003,0xE5DDC003,0xE1A032A3,0xE183318C,0xE5CD3003,0xE5903000,0xE7DD2002,0xE7F3C001,0xE2811001,0xE02C2002,0xE5C32000,0xE1D020BC,0xE1520001,0x8AFFFFDF,0xE8BD8008,0x10006174,0xE59F0058,0xE5D02002,0xE5D01018,0xE0223001,0xE59F204C},
{0x10005FD0,0xE5C23001,0xE5D03004,0xE5D0C019,0xE023300C,0xE5C23003,0xE5D03005,0xE5D0C01A,0xE023300C,0xE5C23004,0xE5D03006,0xE5D0C01B,0xE023300C,0xE5C23005,0xE5D00007,0xE1A031A1,0xE1831281,0xE0200001,0xE5C20006,0xE1A0F00E,0x10006174,0x1000A2AC,0xE92D4018,0xE3A01470,0xE591101C,0xE59FE0C8,0xE1A02421,0xE5CE1020,0xE5CE2021,0xE1A02821,0xE5CE2022,0xE1A01C21,0xE5CE1023,0xE59F40AC,0xE3A01000,0xE08E2001,0xE5D23024,0xE1A0C323,0xE18C3103,0xE5D2C018,0xE20330FF,0xE5D22020,0xE023300C,0xE1A0C2A3,0xE18C3183,0xE0832002,0xE20220FF,0xE1A03222,0xE1832202,0xE7D43001,0xE20220FF,0xE0222003,0xE1A031A2,0xE1832282,0xE7CD2001,0xE2811001,0xE3510004,0x3AFFFFE8,0xE3A01000,0xE5C01005,0xE5DD1000,0xE5C01006},
{0x100060C4,0xE5DD1001,0xE5C01007,0xE5DD1002,0xE5C01008,0xE5DD1003,0xE5C01009,0xE5DE1020,0xE5C0100A,0xE5DE1021,0xE5C0100B,0xE5DE1022,0xE5C0100C,0xE5DE1023,0xE5C0100D,0xE8BD8018,0x10006174,0x100067A8,0xE59FC060,0xE3A01000,0xE08C0001,0xE5D02008,0xE2811001,0xE3510004,0xE1A03222,0xE1832202,0xE5D0300C,0xE0822003,0xE20220FF,0xE1A032A2,0xE1832182,0xE5D03010,0xE20220FF,0xE0222003,0xE1A03122,0xE1832302,0xE5D03014,0xE20220FF,0xE0222003,0xE1A032A2,0xE1832182,0xE5C02018,0x3AFFFFE8,0xE1A0F00E,0x10006174,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000},

};

#endif


#ifdef _RDA_PATCH_UART2_

const kal_uint32 rda_patch_7[][62] = 
{
{0x10005C00,0xE92D41FC,0xE1A06000,0xE3500001,0x13560000,0xE1A04001,0x1A0000A7,0xE3A08002,0xE59F73A4,0xE3560001,0x1A000022,0xE5940000,0xE5D01003,0xE5D02004,0xE1815402,0xE245CCFC,0xE25CC042,0x03A01004,0x05C01006,0xE245CCFC,0xE25CC056,0x1A000002,0xE5940000,0xEB00010B,0xEA000033,0xE245CCFC,0xE25CC066,0x05940000,0x05C08005,0x0A00002E,0xE245CCFC,0xE25CC05B,0x1A00002B,0xE5941000,0xE3A000AB,0xE5C10006,0xE5941000,0xE3A00096,0xE5C10007,0xE5941000,0xE3A0000C,0xE5C10008,0xE5941000,0xE3A000C8,0xE5C10009,0xEA00001E,0xE3560000,0x1A00001C,0xE5940000,0xE5D01000,0xE5D02001,0xE1815402,0xE245CCFC,0xE25CC0C4,0x1A00000E,0xE5D00002,0xE3500010,0x9A000012,0xE240100D,0xE3A00000,0xE5942000,0xE0813000},
{0x10005CF4,0xE7D22003,0xE0873000,0xE2800001,0xE3500010,0xE5C32008,0x3AFFFFF7,0xE3A00001,0xE5C70000,0xE245CEC0,0xE25CC003,0x05D70000,0x03500001,0x1A000001,0xEB00016D,0xEB000148,0xE5D70000,0xE3500002,0x1A00004B,0xE5940000,0xE3560000,0xE5D01000,0x1A00000E,0xE5D72018,0xE0211002,0xE5C01000,0xE5940000,0xE5D72019,0xE5F01001,0xE0211002,0xE5C01000,0xE1A00004,0xEB000097,0xE5940000,0xE5D01000,0xE5D00001,0xE1815400,0xEA00003A,0xE5D7201C,0xE0211002,0xE5C01000,0xE5D7001C,0xE5CD0000,0xE5D7001D,0xE5CD0001,0xE5D7001E,0xE5CD0002,0xE5D7001F,0xE5CD0003,0xE3A00002,0xEA000028,0xE2401002,0xE2111003,0x1A00001F,0xE5DD2000,0xE222209D,0xE5CD2004,0xE5DD2001,0xE2222071,0xE5CD2005,0xE5DD2002,0xE2222042},          
{0x10005DE8,0xE5CD2006,0xE5DD2003,0xE22220D2,0xE5CD2007,0xE5DD2006,0xE5DD3005,0xE1A02182,0xE18222A3,0xE5CD2000,0xE5DD2007,0xE5DD3006,0xE1A02182,0xE18222A3,0xE5CD2001,0xE5DD2004,0xE5DD3007,0xE1A02182,0xE18222A3,0xE5CD2002,0xE5DD2005,0xE5DD3004,0xE1A02182,0xE18222A3,0xE5CD2003,0xE5942000,0xE7DD1001,0xE7F23000,0xE2800001,0xE0231001,0xE5C21000,0xE1D410BC,0xE1510000,0x8AFFFFD3,0xE3560000,0x1A000011,0xE5D70000,0xE3500002,0x0245CCFC,0x025CC056,0x1A00000B,0xE5940000,0xE5D00003,0xE5C70024,0xE5940000,0xE5D00004,0xE5C70025,0xE5940000,0xE5D00005,0xE5C70026,0xE5940000,0xE5D00006,0xE5C70027,0xE8BD81FC,0xE3560001,0x1AFFFFFC,0xE5D70000,0xE3500002,0x1A00002C,0xE245CCFC,0xE25CC0DF,0x1AFFFFF6},          
{0x10005EDC,0xE5D70018,0xE59FC0E4,0xE28000E4,0xE5CD0000,0xE5D70019,0xE28000D2,0xE5CD0001,0xE5D7001A,0xE2800056,0xE5CD0002,0xE5D7001B,0xE2800013,0xE5CD0003,0xE3A00000,0xE7DD1000,0xE1A023A1,0xE1821081,0xE20120FF,0xE0871000,0xE5D13024,0xE0222003,0xE1A031A2,0xE1832282,0xE7DC3000,0xE20220FF,0xE0222003,0xE1A03322,0xE1832102,0xE5D13020,0xE0822003,0xE20220FF,0xE1A03222,0xE1832202,0xE7CD2000,0xE2800001,0xE3500004,0xE5C12018,0x3AFFFFE7,0xEB0000B6,0xEB00007C,0xE3560001,0x1AFFFFCC,0xE5D70000,0xE3500001,0x0245CEC0,0x025CC003,0x1AFFFFC7,0xE59F3030,0xE1A01007,0xE5C78000,0xE3A00000,0xE7D32000,0xE081C000,0xE2800001,0xE3500007,0xE5CC2001,0x3AFFFFF9,0xEB00006A,0xEAFFFFBB,0x10006350,0x100067A8},          
{0x10005FD0,0x1000A2AC,0xE59F10AC,0xE92D4008,0xE5D12018,0xE5CD2000,0xE5D12019,0xE5CD2001,0xE5D1201A,0xE5CD2002,0xE5D1101B,0xE5CD1003,0xE3A01003,0xEA00001C,0xE2412001,0xE2122003,0x1A000013,0xE5DD3000,0xE5DDC000,0xE1A032A3,0xE183318C,0xE5CD3000,0xE5DD3001,0xE5DDC001,0xE1A032A3,0xE183318C,0xE5CD3001,0xE5DD3002,0xE5DDC002,0xE1A032A3,0xE183318C,0xE5CD3002,0xE5DD3003,0xE5DDC003,0xE1A032A3,0xE183318C,0xE5CD3003,0xE5903000,0xE7DD2002,0xE7F3C001,0xE2811001,0xE02C2002,0xE5C32000,0xE1D020BC,0xE1520001,0x8AFFFFDF,0xE8BD8008,0x10006350,0xE92D4018,0xE3A01470,0xE591101C,0xE59FE0C8,0xE1A02421,0xE5CE1020,0xE5CE2021,0xE1A02821,0xE5CE2022,0xE1A01C21,0xE5CE1023,0xE59F40AC,0xE3A01000,0xE08E2001},          
{0x100060C4,0xE5D23024,0xE1A0C323,0xE18C3103,0xE5D2C018,0xE20330FF,0xE5D22020,0xE023300C,0xE1A0C2A3,0xE18C3183,0xE0832002,0xE20220FF,0xE1A03222,0xE1832202,0xE7D43001,0xE20220FF,0xE0222003,0xE1A031A2,0xE1832282,0xE7CD2001,0xE2811001,0xE3510004,0x3AFFFFE8,0xE3A01000,0xE5C01005,0xE5DD1000,0xE5C01006,0xE5DD1001,0xE5C01007,0xE5DD1002,0xE5C01008,0xE5DD1003,0xE5C01009,0xE5DE1020,0xE5C0100A,0xE5DE1021,0xE5C0100B,0xE5DE1022,0xE5C0100C,0xE5DE1023,0xE5C0100D,0xE8BD8018,0x10006350,0x100067A8,0xE59F00D4,0xE92D400C,0xE5D0101C,0xE221209D,0xE5CD2004,0xE5D0201D,0xE2222071,0xE5CD2005,0xE5D0201E,0xE2222042,0xE5CD2006,0xE5D0201F,0xE22220D2,0xE5CD2007,0xE5DD2006,0xE5DD3005,0xE1A02182,0xE18222A3},          
{0x100061B8,0xE5CD2000,0xE5DD2007,0xE5DD3006,0xE1A02182,0xE18222A3,0xE5CD2001,0xE5DD2004,0xE5DD3007,0xE1A02182,0xE18222A3,0xE5CD2002,0xE5DD2005,0xE5DD3004,0xE1A02182,0xE18222A3,0xE5CD2003,0xE5D02002,0xE0222001,0xE59F1048,0xE5C12001,0xE5D02004,0xE5DD3000,0xE0222003,0xE5C12003,0xE5D02005,0xE5DD3001,0xE0222003,0xE5C12004,0xE5D02006,0xE5DD3002,0xE0222003,0xE5C12005,0xE5D00007,0xE5DD2003,0xE0200002,0xE5C10006,0xE8BD800C,0x10006350,0x1000A2AC,0xE59F0084,0xE92D4008,0xE5D01018,0xE2211023,0xE5CD1000,0xE5D01019,0xE22110A6,0xE5CD1001,0xE5D0101A,0xE221109D,0xE5CD1002,0xE5D0101B,0xE2211025,0xE5CD1003,0xE5DD1002,0xE5DD2001,0xE1A01081,0xE18113A2,0xE5C0101C,0xE5DD1002,0xE5DD2003,0xE1A013A1},          
{0x100062AC,0xE1811082,0xE5C0101D,0xE5DD1000,0xE5DD2003,0xE1A01081,0xE18113A2,0xE5C0101E,0xE5DD1000,0xE5DD2001,0xE1A013A1,0xE1811082,0xE5C0101F,0xE8BD8008,0x10006350,0xE59FC060,0xE3A01000,0xE08C0001,0xE5D02008,0xE2811001,0xE3510004,0xE1A03222,0xE1832202,0xE5D0300C,0xE0822003,0xE20220FF,0xE1A032A2,0xE1832182,0xE5D03010,0xE20220FF,0xE0222003,0xE1A03122,0xE1832302,0xE5D03014,0xE20220FF,0xE0222003,0xE1A032A2,0xE1832182,0xE5C02018,0x3AFFFFE8,0xE1A0F00E,0x10006350,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000},          

};
#endif


const kal_uint32 rda_bigpatch_7[][62]=
{
{0x10000050,0xE1A0F36F,0xE1A01006,0xE1A00004,0xEA00000B,0xE51FF004,0x00008D24,0xE51FF004,0x00007F2C,0xE51FF004,0x00013A88,0xE51FF004,0x00025C24,0xE51FF004,0x000016F4,0xE51FF004,0x00000E84,0xE92D41FC,0xE1A07000,0xE1A00001,0xE59F1268,0xE3570002,0xE0812287,0x03A01000,0x11A01280,0xE0824001,0xE5D4101C,0xE3A08000,0xE35100FF,0x05C4801C,0x01D411BA,0x02411001,0x01C411BA,0xE1D411BA,0xE3510000,0x0A00008A,0xE5D4101E,0xE3510000,0x1594200C,0x10811081,0x10821181,0x0594100C,0x05D4201F,0x00822082,0x00811182,0xE2415018,0xEBFFFFD5,0xE1A06000,0xE5D00158,0xE3500002,0x85C68158,0xE3570002,0x1A00003C,0xE5950000,0xE3A02017,0xE5D01000,0xE15200A1,0x1A000010,0xE5D01004,0xE5D00005,0xE0810400,0xE3500FC8},
{0x10000144,0x2A00003D,0xE3A0201E,0xE3A01017,0xE1A00006,0xEBFFFFC3,0xE3A03001,0xE58D3000,0xE3A03004,0xE3A02FC8,0xE3A01FC8,0xE1A00006,0xEBFFFFBE,0xEA000009,0xE3A0200F,0xE15200A1,0x1A000014,0xE5D00001,0xE3500000,0x1A00002B,0xE3A0201A,0xE3A0100F,0xE1A00006,0xEBFFFFB1,0xE5D4001E,0xE3500000,0x05D4001F,0xE2400001,0xE5C4001E,0xE1D400B2,0xE1D510BC,0xE0400001,0xE1C400B2,0xE1D401BA,0xE2400001,0xE1C401BA,0xE5858000,0xEA000019,0xE20100FC,0xE350002C,0x1A000016,0xE59F0124,0xE59F1124,0xE5D00000,0xE5D11000,0xE0901001,0xE5D5100B,0xE59F0114,0xE7900101,0xE2800F80,0x01C020BE,0x11C080BE,0xEA00000A,0xE3570003,0x05950000,0x03A02008,0x05D01000,0x015200A1,0x1A000004,0xE5D61013,0xE3811010,0xE5C01000},
{0x10000238,0xE5D60013,0xE5C6003E,0xE59F00D4,0xE5902000,0xE3520000,0x11A01005,0x11A00007,0x11A0E00F,0x11A0F002,0xE3570000,0x1A000019,0xE5950000,0xE5D01000,0xE5D02001,0xE0811402,0xE241CE40,0xE25CC007,0x03A01080,0x05C01005,0x0A000010,0xE241CE40,0xE25CC028,0xE3A02060,0x05C0200F,0x05950000,0xE3A03004,0x05C08010,0x05950000,0x05C03012,0x0A000006,0xE241CE40,0xE25CC029,0x05C02013,0x05950000,0x05C08014,0x05950000,0x05C03016,0xEBFFFF69,0xE3500002,0x1A000007,0xE3A01000,0xE3A0000C,0xEBFFFF66,0xE3500000,0x11D020BC,0x13A0000C,0x13A01000,0x1BFFFF63,0xE8BD41FC,0xE59D0004,0xE3A0FD54,0xE1A00000,0xEAFFFFFA,0x10005074,0x10008209,0x1000820A,0x10008114,0x1000004C,0x00000000,0x00000000,0x00000000},
};


const kal_uint32 rda_trap_7[][2] = 
{

{0x100006c0,0xFC00FC1B},
{0x100006c4,0xFC00FC66},
{0x100006c8,0xFC00FC42},
{0x100006cC,0xFC00FC34},
{0x100006d0,0xFC1DFC56},
{0x100006d4,0xFC0BFC5B},
{0x100006d8,0xFC0BFCd1},
{0x100006dc,0x00000000},
{0x1000A280,0x100006c0},

                      
{0x40180000,0x00000000},//patch flag
                     
                      
{0x100006f0,0xe247fc7e},//sleep scan, death sleep
{0x100006f4,0xe0800084},
{0x100006f8,0xe59710ac},
{0x100006fc,0xe3c004f0},
{0x10000700,0xe1500001},
{0x10000704,0x81d70bb0},
{0x10000708,0x82800010},
{0x1000070c,0x80866080},
{0x10000710,0x81500004},
{0x10000714,0x80444000},
{0x10000718,0xe3a01b46},
{0x1000071c,0xe281f098},
{0x40180004,0x00011878},
{0x40180024,0x100006f0},               
                   

{0x1000001c,0xea0001c0}, //exit sniff wakeup
{0x10000724,0xe59fe024}, 
{0x10000728,0xe5ce1000}, 
{0x1000072c,0xe1cd10b8}, 
{0x10000730,0xe59fe01c}, 
{0x10000734,0xe5d01012}, 
{0x10000738,0xe08ee381}, 
{0x1000073c,0xe59e1018}, 
{0x10000740,0xe2411a40}, 
{0x10000744,0xe58e1018}, 
{0x10000748,0xe3a0eb4d}, 
{0x1000074c,0xe28effb7}, 
{0x10000750,0x10009184}, 
{0x10000754,0x10008ca0}, 
{0x10000758,0xe281f241}, 
{0x40180008,0x000136d8}, 
{0x40180028,0x10000758}, 

                   
                   
                   
{0x4018000c,0x00029190},//// USLCr2p_Get_Search_Window_Frames, remove 25ms restrict
{0x4018002c,0x00022e80},

#ifdef __RDA_SLEEP_ROM__

{0x100007b0,0xe1a00000},///sleep rom
{0x100007b4,0xe1a00000},
{0x100007b8,0xe1a00000},
{0x100007bc,0xe1a00000},
{0x100007c0,0xe2800001},
{0x100007c4,0xe3500020},
{0x100007c8,0xbafffff8},
{0x100007cc,0xe3a00a22},
{0x100007d0,0xe280fec8},
{0x100007d4,0xe244fc8c},
{0x40180010,0x00022c50},
{0x40180030,0x100007d4},
#endif


{0x100007f0,0xe241fc7d},///;LMpol_Service_Imminent_Wakeup_Control adjust to fit USLCr2p_Get_Search_Window_Frames
{0x100007f4,0xe59140b4},
{0x100007f8,0xe3540000},
{0x100007fc,0x11d401b0},
{0x10000800,0x03a00008},
{0x10000804,0xe3100004},
{0x10000808,0x08bd8010},
{0x1000080c,0xe5d40012},
{0x10000810,0xe59fe024},
{0x10000814,0xe08e0380},
{0x10000818,0xe3a01000},
{0x1000081c,0xe28fe004},
{0x10000820,0xe3a05a29},
{0x10000824,0xe285f0f4},
{0x10000828,0x15d41013},
{0x1000082c,0xe3510000},
{0x10000830,0x12804008},
{0x10000834,0xe3a0eb46},
{0x10000838,0xe28ef004},
{0x1000083c,0x10008ca0},
{0x40180014,0x000117e0},
{0x40180034,0x100007f0},



#if 0

{0x100008d0,0xe242fc89},// for inquiry  page scan
{0x100008d4,0xe5821004},
{0x100008d8,0xe35e0a31},
{0x100008dc,0xba000010},
{0x100008e0,0xe3530001},
{0x100008e4,0x05c4501e},
{0x100008e8,0x0a000002},
{0x100008ec,0xe3530003},
{0x100008f0,0x05c4510f},
{0x100008f4,0x1a00000a},
{0x100008f8,0xe59f0030},
{0x100008fc,0xe5d00000},
{0x10000900,0xe3500000},
{0x10000904,0x0a000006},
{0x10000908,0xe3a00000},
{0x1000090c,0xe3a01c6c},
{0x10000910,0xe1a0e00f},
{0x10000914,0xe281f094},
{0x10000918,0xe1a01003},
{0x1000091c,0xe8bd4038},
{0x10000920,0xe1a03001},
{0x10000924,0xe59f2008},
{0x10000928,0xe3a01b97},
{0x1000092c,0xe281fffa},
{0x10000930,0x100093c0},
{0x10000934,0x100091d4},
{0x40180018,0x00025fe4},
{0x40180038,0x100008d0},
#else
{0x100008cc,0xe247fc65},
{0x100008d0,0xe59f0048},
{0x100008d4,0xe3a01004},
{0x100008d8,0xe1c010b6},
{0x100008dc,0xe1c010b4},
{0x100008e0,0xe59f103c},
{0x100008e4,0xe2812048},
{0x100008e8,0xe580200c},
{0x100008ec,0xe3a00000},
{0x100008f0,0xe581005c},
{0x100008f4,0xe59f202c},
{0x100008f8,0xe3a00008},
{0x100008fc,0xe1c200b6},
{0x10000900,0xe1c200b4},
{0x10000904,0xe2813060},
{0x10000908,0xe5823008},
{0x1000090c,0xe2812f49},
{0x10000910,0xe581208c},
{0x10000914,0xe59f1010},
{0x10000918,0xe1c108b8},
{0x1000091c,0xe8bd83f8},
{0x10000920,0x10005514},
{0x10000924,0x1000553c},
{0x10000928,0x10005528},
{0x1000092c,0x100067a8},
{0x40180018,0x00008f3c},
{0x40180038,0x100008cc},

//{0x100008cc,0xe3c2ac22},//disable 3m send
//{0x40180018,0x000010ec},
//{0x40180038,0x100008cc},


#endif


#if 0
{0x10000948,0xe244fc8d},
{0x1000094c,0xe5840010},
{0x10000950,0xe3a00e80},///page scan interval
{0x10000954,0xe5840004},
{0x10000958,0xe3a01012},
{0x1000095c,0xe5841014},
{0x10000960,0xe3a01020},//page scan window
{0x10000964,0xe5841008},
{0x10000968,0xe3a02a15},
{0x1000096c,0xe282fe6c},
{0x40180014,0x000156ac},
{0x40180034,0x10000948},
#endif


//{0x10000970,0x30800c05},// scan 2.08s//patch scan interval
//{0x10000970,0x30800c04},// scan 1.92s
//{0x4018001c,0x00015c48},
//{0x4018003c,0x10000970},


#if 1
{0x100009f0,0xe241fc7b},//disable inquiry scan in sco
{0x100009f4,0xe59f0014},
{0x100009f8,0xe5d00001},
{0x100009fc,0xe3500000},
{0x10000a00,0x18bd8070},
{0x10000a04,0xe1d106b2},
{0x10000a08,0xe3a02b55},
{0x10000a0c,0xe282fff7},
{0x10000a10,0x10008208},
{0x4018001c,0x000157d8},
{0x4018003c,0x100009f0},
#endif



{0x40180020,0x000014fc},  
{0x40180040,0x10000050},  


#if defined( _RDA_PATCH_UART_) || defined(_RDA_PATCH_UART2_)
{0x1000004c,0x10005c00},
#else
{0x1000004c,0x00000000},
#endif//_RDA_PATCH_UART_


#ifdef __RDA_SLEEP_ROM__
{0x40180000,0x000000ff},//patch flag
#else
{0x40180000,0x000000f7},//patch flag
#endif

 };

const kal_uint32 rda_rf_7[][2] =
{
{0x40240000,0x0004F398},//enable spi2
{0x0000003f,0x00000000},//page 0
{0x00000001,0x0000010f},//01
{0x0000000a,0x00002004},//0a
{0x00000016,0x00009d2A},//16 
{0x0000001a,0x0000034e},//1a
{0x00000019,0x0000fb78},//19
{0x00000027,0x00000800},//27
{0x0000003b,0x000031ea},//3b
{0x0000003d,0x0000F9F8},//3d
{0x0000003f,0x00000001},//page 1
{0x00000004,0x00000416},//84
{0x00000006,0x0000262c},//86
{0x00000007,0x00000624},//87
#ifdef __RDA_SLEEP_ROM__
{0x00000008,0x00002224},//88
#else
{0x00000008,0x00002624},//88
#endif
{0x00000010,0x00000120},//90
{0x00000019,0x0000001F},//99
{0x00000020,0x00000d10},//a0
{0x00000021,0x000015a2},//a1
{0x00000022,0x00001db2},//a2
{0x00000023,0x000025c2},//a3
{0x00000024,0x00002e52},//a4
{0x00000025,0x00003662},//a5
{0x00000026,0x00003a70},//a6
{0x0000003f,0x00000000},//page 0
{0x40240000,0x0000F298}//disable spi2

};



void Rdabt_Pskey_Write_rf_r7(void)
{
   kal_int32 i;
   for(i=0;i<sizeof(rdabt_pskey_rf_7)/sizeof(rdabt_pskey_rf_7[0]);i++)
   {
      rdabt_wirte_memory(rdabt_pskey_rf_7[i][0],&rdabt_pskey_rf_7[i][1],1,0);
      RDABT_DELAY(1);
   }
      RDABT_DELAY(10);	
}



void Rdabt_Pskey_Write_r7(void)
{
   kal_int32 i;
   for(i=0;i<sizeof(rdabt_pskey_7)/sizeof(rdabt_pskey_7[0]);i++)
   {
      rdabt_wirte_memory(rdabt_pskey_7[i][0],&rdabt_pskey_7[i][1],1,0);
      RDABT_DELAY(1);
   }
	
}



void rdabt_patch_write_r7(void)
{
#if defined( _RDA_PATCH_UART_) || defined(_RDA_PATCH_UART2_)
   kal_int32 i;
   for(i=0;i<sizeof(rda_patch_7)/sizeof(rda_patch_7[0]);i++)
   {
      rdabt_wirte_memory(rda_patch_7[i][0],&rda_patch_7[i][1],61,0);   
      RDABT_DELAY(10);
   }	   
#endif   
   
}

void rdabt_bigpatch_write_r7(void)
{
   kal_int32 i;
   for(i=0;i<sizeof(rda_bigpatch_7)/sizeof(rda_bigpatch_7[0]);i++)
   {
      rdabt_wirte_memory(rda_bigpatch_7[i][0],&rda_bigpatch_7[i][1],61,0);   
      RDABT_DELAY(10);
   }	   
}


void Rdabt_trap_write_r7(void)
{
   kal_int32 i;
   for(i=0;i<sizeof(rda_trap_7)/sizeof(rda_trap_7[0]);i++)
   {
      rdabt_wirte_memory(rda_trap_7[i][0],&rda_trap_7[i][1],1,0);      
      RDABT_DELAY(1);
   }	
}

void Rdabt_rf_Write_uart_r7(void)
{
   kal_uint8 i;
   rdabt_wirte_memory(rda_rf_7[0][0],&rda_rf_7[0][1],1,0);      
   RDABT_DELAY(2);
	  
    for(i=1;i<(sizeof(rda_rf_7)/sizeof(rda_rf_7[0]))-1;i++)
   {
      rdabt_wirte_memory(rda_rf_7[i][0],&rda_rf_7[i][1],1,1);      
      RDABT_DELAY(5);
   }
   rdabt_wirte_memory(rda_rf_7[i][0],&rda_rf_7[i][1],1,0);      
   RDABT_DELAY(5);
	
}



void  RDABT_rf_Intialization_r7(void)
{
	unsigned char i=0;
	for(i =0;i<sizeof(rdabt_rf_init_7)/sizeof(rdabt_rf_init_7[0]); i++){
		rdabt_iic_rf_write_data(rdabt_rf_init_7[i][0],&rdabt_rf_init_7[i][1],1);		
	}	
	RDABT_DELAY(10);  

}


void RDABT_core_Intialization_r7(void)
{
       kal_prompt_trace(0,"RDABT_core_Intialization_r7");

#ifndef __RDABT_USE_IIC__
	Rdabt_rf_Write_uart_r7();	
#endif
       RDA_bt_Power_On_Reset();
   	RDABT_DELAY(70);
       Rdabt_Pskey_Write_rf_r7();	
	Rdabt_Pskey_Write_r7();
	rdabt_patch_write_r7();
	rdabt_bigpatch_write_r7();
	Rdabt_trap_write_r7();

}


#endif///////__RDA_CHIP_R7_5868plus__

#endif

