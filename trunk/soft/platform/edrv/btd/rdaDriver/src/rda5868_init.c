/*************************************************************************
 *
 * MODULE NAME:    rda5868_init.c
 * PROJECT CODE:   rda5868
 * DESCRIPTION:    rda5868 initiation.
 * MAINTAINER:     mql
 * CREATION DATE:  18/12/08
 *
 * SOURCE CONTROL: $Id: rda5868_init.c 5857 2011-02-12 09:15:12Z huazeng $
 *
 * LICENSE:
 *     This source code is copyright (c) 2009-2010 rda.
 *     All rights reserved.
 *
 * NOTES TO USERS:
 *   
 *   version 3.20
 *				 
 *************************************************************************/
#ifdef __BT_RDABT__
#include "kal_release.h"      	/* Basic data type */
#include "stack_common.h"          /* message and module IDs */
#include "stack_msgs.h"            /* enum for message IDs */
#include "app_ltlcom.h"       	/* Task message communiction */
//#include "syscomp_config.h"         /* type of system module components */
//#include "task_config.h"      	/* Task creation */
#include "stacklib.h"        	   /* Basic type for dll, evshed, stacktimer */
#include "event_shed.h"       	/* Event scheduler */
#include "stack_timer.h"      	/* Stack timer */
#include "stdio.h"                  /* Basic C I/O functions */
//#include "eint.h"                   /* External interrupt */

#include "uart_sw.h"               /* header file for UART */
#include "rdabt_drv.h"
#include "mmi_trace.h"


#ifdef __RDA_CHIP_R5_5868__

const unsigned short rdabt_rf_init_5[][2] = 
{
{0x3f,0x0000},///page down
{0x01,0x010f},// padrv_gain0
//{0x1d,0x1008},//bbdac_range
{0X0b,0x3208},//pll calibration

{0x16,0x9d3c},//XTAL cap
{0x19,0xf7f8},//rxfilter_vcm_sel rmx_ifvcm_en
{0x1a,0x03ae},//tmx_lo_reg , tmx_out_reg
//{0x21,0x100d},///sdm time longer
{0x27,0x0800},//pll_stable_bypass
//{0x2a,0x3770},//PA Drv delays
//{0x2e,0x3800},//  TX reset delay
//{0x32,0xaa40},//lna 
{0x3b,0x31ea},//freq setting available immediately
{0x3d,0xf9f8},//disable rom deepsleep bit 11 enable

{0x3f,0x0001},///page up
{0x04,0x0416},//int_reg_sw_en
{0x06,0x2634},//reg1_dvdd_ref_bit_deepsleep
{0x07,0x061b},//reg3_dvdd_ref_bit_deepsleep
{0x08,0x2724},//disable rom deepsleep bit 10 enable
//{0x0b,0x001f},/////pll vco ibit
{0x10,0x01c0},//thermo_tmx_gain,tx_power
{0x19,0x001f},//thermo_pll_lobuf_ibit
{0x20,0x0d10},//padrv_gain 
{0x21,0x15a3},//padrv_gain 
{0x22,0x1db3},//padrv_gain 
{0x23,0x25c3},//padrv_gain 
{0x24,0x2e53},//padrv_gain 
{0x25,0x3663},//padrv_gain 
{0x26,0x3b72},//padrv_gain 
{0x3f,0x0000}///page down
};


const kal_uint32 rdabt_pskey_rf_5[][2]= 
{
{0x40240000,0x0004F398},//enable spi2
{0x10000080,0x00000007},//PSKEY: Total number
{0x10000084,0x00470d37},//PSKEY: GFSK ct_u
{0x10000088,0x00482a57},//PSKEY: DPSK ct_u
{0x1000008c,0x00520400},//PSKEY: Ref_ready_th
{0x10000090,0x00530511},//PSKEY: Mix_guard_th
{0x10000094,0x00437f58},//PSKEY: TX Delay
{0x10000098,0x00300029},//PSKEY: clear chip_self_cal_enable bit
{0x1000009c,0x0030002b},//PSKEY: set chip_self_cal_enable bit
{0x10000000,0x10000000},//pskey flag
{0x40240000,0x0000F298},//disable spi2
};

const kal_uint32 rdabt_pskey_5[][2] =
{
{0x10000034,0xa5025020},//pskey shorter timing sleep
{0x10000038,0x0F055000},//pskey rf delay
{0x1000003C,0xA0A0BF40},//pskey rf timing
{0x10000000,0x1000e000},//pskey flag
};

#ifdef _RDA_PATCH_UART_
const kal_uint32 rda_patch_5[][62] = 
{
{0x1000000c,0xe1c501ba,0xe1a00004,0xe1a03005,0xe3a0ec19,0xe28ee06c,0xe92d4ff0,0xe5d3101e,0xe593200c,0xe3a06000,0xe3510000,0x05d3101f,0xe2411001,0xe0811081,0xe0821181,0xe5d3201c,0xe35200ff,0x05c3601c,0x01d301ba,0x02400001,0x01c301ba,0x08bd8ff0,0xe3500002,0x05912000,0x05d22000,0x020220fc,0x0352002c,0x1a00000d,0xe59f25e4,0xe59fc5e4,0xe5d22000,0xe5dcc000,0xe092c00c,0x05d1e00b,0xe59f25d4,0x15d1c00b,0x0792210e,0x1792210c,0x03a0c00f,0xe2822f80,0x01c2c0be,0x11c260be,0xe3500001,0x13500000,0x18bd8ff0,0xe3500001,0xe59f45ac,0xe59f75a4,0x1a000053,0xe5912000,0xe5d2c003,0xe35c0042,0x05d2c004,0x035c00fc,0x03a0c004,0x05c2c006,0xe5912000,0xe5d2c003,0xe35c0056,0x05d22004,0x035200fc,0x1a000080},
{0x10000100,0xe3a02470,0xe592201c,0xe59fc568,0xe20280ff,0xe58c2000,0xe1a0c422,0xe20c90ff,0xe59fe558,0xe1a0c822,0xe5ce8000,0xe5ce9001,0xe20ca0ff,0xe1a0bc22,0xe5cea002,0xe59f5540,0xe5ceb003,0xe3a02000,0xe7d7c002,0xe1a0e32c,0xe18ec10c,0xe7d4e002,0xe20cc0ff,0xe02cc00e,0xe1a0e2ac,0xe18ec18c,0xe59fe510,0xe7dee002,0xe08cc00e,0xe20cc0ff,0xe1a0e22c,0xe18ec20c,0xe59fe500,0xe20cc0ff,0xe7dee002,0xe02cc00e,0xe1a0e1ac,0xe18ec28c,0xe7c5c002,0xe2822001,0xe3520004,0x3affffe7,0xe3a0200e,0xe1c120bc,0xe1d320b2,0xe2822008,0xe1c320b2,0xe5913000,0xe3a0200c,0xe5c32001,0xe5912000,0xe5c26005,0xe5d52000,0xe5913000,0xe5c32006,0xe5d52001,0xe5913000,0xe5c32007,0xe5d52002,0xe5913000,0xe5c32008,0xe5d52003},
{0x100001f4,0xe5913000,0xe5c32009,0xe5912000,0xe5c2800a,0xe5912000,0xe5c2900b,0xe5912000,0xe5c2a00c,0xe5912000,0xe5c2b00d,0xe3500000,0x1a000037,0xe5912000,0xe59f5458,0xe5d23000,0xe35300c4,0x1a000011,0xe5d23001,0xe35300fc,0x1a00002f,0xe5d22002,0xe3520010,0x9a00002c,0xe242300d,0xe3a02000,0xe591c000,0xe083e002,0xe7dcc00e,0xe7c5c002,0xe2822001,0xe3520010,0x3afffff8,0xe59f3410,0xe3a02001,0xe5c32000,0xe5912000,0xe5d23000,0xe3530003,0x05d22001,0x0352000c,0x059f23f0,0x05d22000,0x03520001,0x1a000017,0xe3a02000,0xe7d53002,0xe1a0c223,0xe18cc203,0xe0853002,0xe5d3e004,0xe08cc00e,0xe20cc0ff,0xe1a0e18c,0xe20ee0ff,0xe18ec2ac,0xe5d3e008,0xe5d3300c,0xe02cc00e,0xe1a0e12c,0xe18ec30c,0xe20cc0ff},
{0x100002e8,0xe02c3003,0xe1a0c2a3,0xe18c3183,0xe7c43002,0xe2822001,0xe3520004,0x3affffe8,0xe59f6380,0xe5d63000,0xe3530002,0x1a000045,0xe5912000,0xe5d4e000,0xe5d2c000,0xe3500000,0xe02cc00e,0xe5c2c000,0x13a02002,0x1a00003a,0xe5912000,0xe5d4e001,0xe5f2c001,0xe02cc00e,0xe5c2c000,0xe3a02003,0xea000017,0xe3520005,0x3084c002,0x355cc001,0x35c6c001,0x3a00000c,0xe242c001,0xe1a0812c,0xe20cc003,0xe7d4c00c,0xe5c6c001,0xe3a0c000,0xe15c0008,0x35d6e001,0x328cc001,0x31a052ae,0x3185e18e,0x35c6e001,0x3afffff8,0xe591c000,0xe5d65001,0xe7fce002,0xe2822001,0xe02ee005,0xe5cce000,0xe1d1c0bc,0xe15c0002,0x8affffe4,0xea00001a,0xe3520005,0x3084c002,0x355cc001,0x35c6c001,0x3a00000c,0xe242c001,0xe1a0812c},
{0x100003dc,0xe20cc003,0xe7d4c00c,0xe5c6c001,0xe3a0c000,0xe15c0008,0x35d6e001,0x328cc001,0x31a051ae,0x3185e28e,0x35c6e001,0x3afffff8,0xe591c000,0xe5d65001,0xe7fce002,0xe2822001,0xe02ee005,0xe5cce000,0xe1d1c0bc,0xe15c0002,0x8affffe4,0xe3500000,0x1a00000f,0xe3530002,0x05910000,0x05d01000,0x03510056,0x05d01001,0x035100fc,0x18bd8ff0,0xe5d01003,0xe5c71000,0xe5d01004,0xe5c71001,0xe5d01005,0xe5c71002,0xe5d00006,0xe5c70003,0xe8bd8ff0,0xe3500001,0x18bd8ff0,0xe3530002,0xe59fe20c,0xe59fc204,0x1a00004c,0xe5912000,0xe5d25003,0xe5d46002,0xe22660df,0xe1550006,0x05d22004,0x05d45003,0x022550fc,0x01520005,0x18bd8ff0,0xe3a02000,0xe59f81d8,0xe59fb1b8,0xe59f51bc,0xe7db9002,0xe1a06189,0xe7c86002},
{0x100004d0,0xe0886002,0xe5d6a000,0xe18a92a9,0xe5c69000,0xe7d89002,0xe7d5a002,0xe089900a,0xe20990ff,0xe1a0a229,0xe7c8a002,0xe5d6a000,0xe18a9209,0xe5c69000,0xe7d89002,0xe7d7a002,0xe029900a,0xe1a0a1a9,0xe7c8a002,0xe5d6a000,0xe18a9289,0xe5c69000,0xe7d89002,0xe7d4a002,0xe089900a,0xe20990ff,0xe1a0a129,0xe7c8a002,0xe5d6a000,0xe18a9309,0xe5c69000,0xe7d86002,0xe7c46002,0xe2822001,0xe3520004,0x3affffd9,0xe5de5001,0xe5d42000,0xe3500001,0xe0255002,0xe5cc5001,0xe5de5003,0xe5d46001,0xe0255006,0xe5cc5003,0xe5de5004,0xe5d46002,0xe0255006,0xe5cc5004,0xe5de5005,0xe5d46003,0xe0255006,0xe5cc5005,0xe1a051a2,0xe59f60e0,0xe1852282,0xe5c62001,0xe5de5006,0xe0252002,0xe5cc2006,0x18bd8ff0,0xe3530001},
{0x100005c4,0x05910000,0xe59f60bc,0x05d01003,0x03510003,0x05d00004,0x0350000c,0x18bd8ff0,0xe3a00002,0xe5c60000,0xe3a00000,0xe1a01006,0xe7dc2000,0xe7ce2000,0xe2800001,0xe3500007,0x3afffffa,0xe5dc0001,0xe5d42000,0xe0200002,0xe5cc0001,0xe5dc0003,0xe5d43001,0xe0200003,0xe5cc0003,0xe5dc0004,0xe5d43002,0xe0200003,0xe5cc0004,0xe5dc0005,0xe5d43003,0xe0200003,0xe5cc0005,0xe1a001a2,0xe1800282,0xe5c10001,0xe5dc1006,0xe0210000,0xe5cc0006,0xe8bd8ff0,0xe3a0f2c1,0x10007d51,0x10007d52,0x10007c5c,0x1000069c,0x100006a0,0x10008cf8,0x100006a4,0x100006a8,0x10006600,0x100006ac,0x100006c8,0x10009d55,0x100006c0,0x100006bc,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x00000000},

};


#endif

#ifdef _RDA_PATCH_UART2_
const kal_uint32 rda_patch_5[][62] = 
{
{0x10005a00,0xe92d41fc,0xe1a06000,0xe3500001,0x13560000,0x1a000104,0xe59f0420,0xe3560002,0xe0802286,0x03a00000,0x11a00281,0xe0820000,0xe5d0101c,0xe35100ff,0x03a01000,0x05c0101c,0x01d011ba,0x02411001,0x01c011ba,0xe1d011ba,0xe3510000,0x0a0000f8,0xe5d0101e,0xe3a08002,0xe59f73dc,0xe3510000,0x1590000c,0x10811081,0x10800181,0x0590100c,0x05d0001f,0x00800080,0x00810180,0xe2404018,0xe3560001,0x1a000022,0xe5940000,0xe5d01003,0xe5d02004,0xe1815402,0xe245ccfc,0xe25cc042,0x03a01004,0x05c01006,0xe245ccfc,0xe25cc056,0x1a000002,0xe5940000,0xeb000110,0xea000033,0xe245ccfc,0xe25cc066,0x05940000,0x05c08005,0x0a00002e,0xe245ccfc,0xe25cc05b,0x1a00002b,0xe5941000,0xe3a000ab,0xe5c10006,0xe5941000},
{0x10005af4,0xe3a00096,0xe5c10007,0xe5941000,0xe3a0000c,0xe5c10008,0xe5941000,0xe3a000c8,0xe5c10009,0xea00001e,0xe3560000,0x1a00001c,0xe5940000,0xe5d01000,0xe5d02001,0xe1815402,0xe245ccfc,0xe25cc0c4,0x1a00000e,0xe5d00002,0xe3500010,0x9a000012,0xe240100d,0xe3a00000,0xe5942000,0xe0813000,0xe7d22003,0xe0873000,0xe2800001,0xe3500010,0xe5c32008,0x3afffff7,0xe3a00001,0xe5c70000,0xe245cec0,0xe25cc003,0x05d70000,0x03500001,0x1a000001,0xeb000172,0xeb00014d,0xe5d70000,0xe3500002,0x1a00004b,0xe5940000,0xe3560000,0xe5d01000,0x1a00000e,0xe5d72018,0xe0211002,0xe5c01000,0xe5940000,0xe5d72019,0xe5f01001,0xe0211002,0xe5c01000,0xe1a00004,0xeb00009c,0xe5940000,0xe5d01000,0xe5d00001,0xe1815400},
{0x10005be8,0xea00003a,0xe5d7201c,0xe0211002,0xe5c01000,0xe5d7001c,0xe5cd0000,0xe5d7001d,0xe5cd0001,0xe5d7001e,0xe5cd0002,0xe5d7001f,0xe5cd0003,0xe3a00002,0xea000028,0xe2401002,0xe2111003,0x1a00001f,0xe5dd2000,0xe222209d,0xe5cd2004,0xe5dd2001,0xe2222071,0xe5cd2005,0xe5dd2002,0xe2222042,0xe5cd2006,0xe5dd2003,0xe22220d2,0xe5cd2007,0xe5dd2006,0xe5dd3005,0xe1a02182,0xe18222a3,0xe5cd2000,0xe5dd2007,0xe5dd3006,0xe1a02182,0xe18222a3,0xe5cd2001,0xe5dd2004,0xe5dd3007,0xe1a02182,0xe18222a3,0xe5cd2002,0xe5dd2005,0xe5dd3004,0xe1a02182,0xe18222a3,0xe5cd2003,0xe5942000,0xe7dd1001,0xe7f23000,0xe2800001,0xe0231001,0xe5c21000,0xe1d410bc,0xe1510000,0x8affffd3,0xe3560000,0x1a000011,0xe5d70000},
{0x10005cdc,0xe3500002,0x0245ccfc,0x025cc056,0x1a00004e,0xe5940000,0xe5d00003,0xe5c70024,0xe5940000,0xe5d00004,0xe5c70025,0xe5940000,0xe5d00005,0xe5c70026,0xe5940000,0xe5d00006,0xe5c70027,0xea000041,0xe3560001,0x1a00003f,0xe5d70000,0xe3500002,0x1a00002c,0xe245ccfc,0xe25cc0df,0x1a000039,0xe5d70018,0xe59fc0f8,0xe28000e4,0xe5cd0000,0xe5d70019,0xe28000d2,0xe5cd0001,0xe5d7001a,0xe2800056,0xe5cd0002,0xe5d7001b,0xe2800013,0xe5cd0003,0xe3a00000,0xe7dd1000,0xe1a023a1,0xe1821081,0xe20120ff,0xe0871000,0xe5d13024,0xe0222003,0xe1a031a2,0xe1832282,0xe7dc3000,0xe20220ff,0xe0222003,0xe1a03322,0xe1832102,0xe5d13020,0xe0822003,0xe20220ff,0xe1a03222,0xe1832202,0xe7cd2000,0xe2800001,0xe3500004},
{0x10005dd0,0xe5c12018,0x3affffe7,0xeb0000bb,0xeb000081,0xe3560001,0x1a00000f,0xe5d70000,0xe3500001,0x0245cec0,0x025cc003,0x1a00000a,0xe59f3044,0xe1a01007,0xe5c78000,0xe3a00000,0xe7d32000,0xe081c000,0xe2800001,0xe3500007,0xe5cc2001,0x3afffff9,0xeb00006f,0xe8bd41fc,0xe59d0000,0xe3a01c19,0xe281f070,0xeafffffa,0x10004d80,0x100061c8,0x10006600,0x10009d55,0xe59f10ac,0xe92d4008,0xe5d12018,0xe5cd2000,0xe5d12019,0xe5cd2001,0xe5d1201a,0xe5cd2002,0xe5d1101b,0xe5cd1003,0xe3a01003,0xea00001c,0xe2412001,0xe2122003,0x1a000013,0xe5dd3000,0xe5ddc000,0xe1a032a3,0xe183318c,0xe5cd3000,0xe5dd3001,0xe5ddc001,0xe1a032a3,0xe183318c,0xe5cd3001,0xe5dd3002,0xe5ddc002,0xe1a032a3,0xe183318c,0xe5cd3002},
{0x10005ec4,0xe5dd3003,0xe5ddc003,0xe1a032a3,0xe183318c,0xe5cd3003,0xe5903000,0xe7dd2002,0xe7f3c001,0xe2811001,0xe02c2002,0xe5c32000,0xe1d020bc,0xe1520001,0x8affffdf,0xe8bd8008,0x100061c8,0xe92d4018,0xe3a01470,0xe591101c,0xe59fe0c8,0xe1a02421,0xe5ce1020,0xe5ce2021,0xe1a02821,0xe5ce2022,0xe1a01c21,0xe5ce1023,0xe59f40ac,0xe3a01000,0xe08e2001,0xe5d23024,0xe1a0c323,0xe18c3103,0xe5d2c018,0xe20330ff,0xe5d22020,0xe023300c,0xe1a0c2a3,0xe18c3183,0xe0832002,0xe20220ff,0xe1a03222,0xe1832202,0xe7d43001,0xe20220ff,0xe0222003,0xe1a031a2,0xe1832282,0xe7cd2001,0xe2811001,0xe3510004,0x3affffe8,0xe3a01000,0xe5c01005,0xe5dd1000,0xe5c01006,0xe5dd1001,0xe5c01007,0xe5dd1002,0xe5c01008,0xe5dd1003},
{0x10005fb8,0xe5c01009,0xe5de1020,0xe5c0100a,0xe5de1021,0xe5c0100b,0xe5de1022,0xe5c0100c,0xe5de1023,0xe5c0100d,0xe8bd8018,0x100061c8,0x10006600,0xe59f00d4,0xe92d400c,0xe5d0101c,0xe221209d,0xe5cd2004,0xe5d0201d,0xe2222071,0xe5cd2005,0xe5d0201e,0xe2222042,0xe5cd2006,0xe5d0201f,0xe22220d2,0xe5cd2007,0xe5dd2006,0xe5dd3005,0xe1a02182,0xe18222a3,0xe5cd2000,0xe5dd2007,0xe5dd3006,0xe1a02182,0xe18222a3,0xe5cd2001,0xe5dd2004,0xe5dd3007,0xe1a02182,0xe18222a3,0xe5cd2002,0xe5dd2005,0xe5dd3004,0xe1a02182,0xe18222a3,0xe5cd2003,0xe5d02002,0xe0222001,0xe59f1048,0xe5c12001,0xe5d02004,0xe5dd3000,0xe0222003,0xe5c12003,0xe5d02005,0xe5dd3001,0xe0222003,0xe5c12004,0xe5d02006,0xe5dd3002,0xe0222003},
{0x100060ac,0xe5c12005,0xe5d00007,0xe5dd2003,0xe0200002,0xe5c10006,0xe8bd800c,0x100061c8,0x10009d55,0xe59f0084,0xe92d4008,0xe5d01018,0xe2211023,0xe5cd1000,0xe5d01019,0xe22110a6,0xe5cd1001,0xe5d0101a,0xe221109d,0xe5cd1002,0xe5d0101b,0xe2211025,0xe5cd1003,0xe5dd1002,0xe5dd2001,0xe1a01081,0xe18113a2,0xe5c0101c,0xe5dd1002,0xe5dd2003,0xe1a013a1,0xe1811082,0xe5c0101d,0xe5dd1000,0xe5dd2003,0xe1a01081,0xe18113a2,0xe5c0101e,0xe5dd1000,0xe5dd2001,0xe1a013a1,0xe1811082,0xe5c0101f,0xe8bd8008,0x100061c8,0xe59fc060,0xe3a01000,0xe08c0001,0xe5d02008,0xe2811001,0xe3510004,0xe1a03222,0xe1832202,0xe5d0300c,0xe0822003,0xe20220ff,0xe1a032a2,0xe1832182,0xe5d03010,0xe20220ff,0xe0222003,0xe1a03122},

};
#endif

const kal_uint32 rda_trap_5[][2]= 
{
{0x40180000,0x00000000},//patch flag
                      
{0x10009d60,0x100006d0},
{0x100006d0,0xfc00fc1b},
{0x100006d4,0xfc00fc66},
{0x100006d8,0xfd42fc42},
{0x100006dc,0xfc00fc34},
{0x100006e0,0xfc1dfc56},
{0x100006e4,0xFC0BFC5B},
{0x100006e8,0xFC0BFCd1},
{0x100006ec,0x00000000},
                      
{0x70000044,0x9098c000},//pcm_config initation
{0x10008cdc,0x9098c000},//pcm_config
{0x40180018,0x0001d4d8},//patch pcm_config
{0x40180038,0x00020e98},//patch pcm_config
{0x40180004,0x000112c8},//patch master sniff mode
{0x40180024,0x00021800},//patch master sniff mode
{0x10009dc8,0xe3d00d40},//patch inq scan
{0x40180014,0x0001515c},//patch inq scan
{0x40180034,0x10009dc8},//patch inq scan

//{0x10009dcc,0xe3d00d80},//patch acl disable pagescan
//{0x4018001c,0x000153d0},//
//{0x4018003c,0x10009dcc},//

{0x4018000c,0x00030b78}, // inquiry EIR of 2.1
{0x4018002c,0x00030b8c}, // inquiry EIR of 2.1

//{0x10009dc0,0xe3a04040},//patch hv2
//{0x40180014,0x0000bf9c},//patch hv1 hv2
//{0x40180034,0x0000bcb0},//patch hv1
//{0x40180034,0x10009dc0},//patch hv2
 
#if 0
{0x10000004,0xea0001d8},/////////patch sniff = 500ms
{0x1000076c,0xe3a00e32},
{0x10000770,0xe1500002},
{0x10000774,0x83a0eb4a},
{0x10000778,0x828eef9e},
{0x1000077c,0x81c500be},
{0x10000780,0x81a00004},
{0x10000784,0x83a01017},
{0x10000788,0x83a0200c},
{0x1000078c,0x83a03c82},
{0x10000790,0x8283f050},
{0x10000794,0xe3a01004},
{0x10000798,0xe1a00004},
{0x1000079c,0xe3a0eb4a},
{0x100007a0,0xe28efe25},
{0x100007a4,0xe281f201},
{0x40180014,0x00012a4c},
{0x40180034,0x100007a4},
 #endif


//1.28+(0.16*04)=1.92
//{0x10009dc4,0xE2840C04},//patch scan sleep sleep 1.92s  
//{0x10009dc4,0xE2840C05},//patch scan sleep sleep 2.08s
//{0x40180008,0x000155b8},//patch scan sleep sleep 
//{0x40180028,0x10009dc4},//patch scan sleep sleep 


{0x4018001c,0x0002151c},  //tc map status patch
{0x4018003c,0x00021518},  


//{0x10000004,0xea0001cd},/////patch pair inrand role false
//{0x10000740,0xe3100008},
//{0x10000744,0x15d40013},
//{0x10000748,0x15c4003e},
//{0x1000074c,0xe3a02a1b},
//{0x10000750,0xe282fe8a},
//{0x10000754,0xe3a0f241},
//{0x4018001c,0x0001b89c},
//{0x4018003c,0x10000754},



{0x10000008,0xea0001bc},/////unsleep patch
                      
{0x10000700,0xe59fe024},// unsleep patch
{0x10000704,0xe5ce1000},// unsleep patch
{0x10000708,0xe1cd10b8},// unsleep patch
{0x1000070c,0xe59fe01c},// unsleep patch
{0x10000710,0xe5d01012},// unsleep patch
{0x10000714,0xe08ee381},// unsleep patch
{0x10000718,0xe59e1018},// unsleep patch
{0x1000071c,0xe2411a20},// unsleep patch
{0x10000720,0xe58e1018},// unsleep patch
{0x10000724,0xe3a0eb4c},// unsleep patch
{0x10000728,0xe28ef09c},// unsleep patch
{0x1000072c,0x10008cb4},// unsleep patch
{0x10000730,0x10008834},// unsleep patch
{0x10000734,0xe3a0f281},// unsleep patch
                      
{0x40180020,0x00013098},// unsleep patch
{0x40180040,0x10000734},// unsleep patch





#if defined( _RDA_PATCH_UART_)

{0x100006b8,0x00000000},
{0x100006bc,0x00000000},
{0x100006c0,0x00000000},
{0x100006c4,0x00000000},
{0x100006c8,0x00000000},
                      
                      
{0x40180008,0x00001968},  
{0x40180028,0x10000660},  
#elif defined(_RDA_PATCH_UART2_)

{0x100061A0,0xE1832302},
{0x100061A4,0xE5D03014},
{0x100061A8,0xE20220FF},
{0x100061AC,0xE0222003},
{0x100061B0,0xE1A032A2},
{0x100061B4,0xE1832182},
{0x100061B8,0xE5C02018},
{0x100061BC,0x3AFFFFE8},
{0x100061C0,0xE1A0F00E},
{0x100061C4,0x100061C8},
{0x1000000C,0xE1A00004},
{0x10000010,0xE3a01000},
{0x10000014,0xEA001679},
{0x10000018,0xE3A0F2C1},
{0x40180008,0x0000196C},
{0x40180028,0x10000018},

#else
// patch sniff mode with sco
{0x1000000c,0xe3500001},
{0x10000010,0xe59f000c},
{0x10000014,0xe5d00001},
{0x10000018,0x03500000},
{0x1000001c,0xe3a00a12},
{0x10000020,0xe280fc0a},
{0x10000024,0x10007d50},
{0x10000028,0xe3a0f2c1},
// end patch sniff mode with sco

{0x40180008,0x000129fc},//patch sniff mode with sco
{0x40180028,0x10000028},//patch sniff mode with sco
#endif


{0x40180000,0x000000ff}//patch flag


};

const kal_uint32 rda_rf_5[][2] =
{
{0x40240000,0x0004F398},//enable spi2
{0x0000003f,0x00000000},//page 0
{0x00000001,0x0000010f},//01
{0x0000000b,0x00003208},//0b
{0x00000016,0x00009d3c},//16 
{0x00000019,0x0000f7f8},//19
{0x0000001a,0x000003ae},//1a
{0x00000027,0x00000800},//27
{0x0000003b,0x000031ea},//3b
{0x0000003d,0x0000F9F8},//3d
{0x0000003f,0x00000001},//page 1
{0x00000004,0x00000416},//84
{0x00000006,0x00002634},//86
{0x00000007,0x0000061b},//87
{0x00000008,0x00002724},//88
{0x00000010,0x000001c0},//90
{0x00000019,0x0000001F},//99
{0x00000020,0x00000d10},//a0
{0x00000021,0x000015a3},//a1
{0x00000022,0x00001db3},//a2
{0x00000023,0x000025c3},//a3
{0x00000024,0x00002e53},//a4
{0x00000025,0x00003663},//a5
{0x00000026,0x00003b72},//a6
{0x0000003f,0x00000000},//page 0
{0x40240000,0x0000F298}//disable spi2
};


void Rdabt_Pskey_Write_rf_r5(void)
{
   kal_int32 i;
   for(i=0;i<sizeof(rdabt_pskey_rf_5)/sizeof(rdabt_pskey_rf_5[0]);i++)
   {
      rdabt_wirte_memory(rdabt_pskey_rf_5[i][0],&rdabt_pskey_rf_5[i][1],1,0);
      RDABT_DELAY(5);
   }
	
}




void Rdabt_Pskey_Write_r5(void)
{
   kal_int32 i;
   for(i=0;i<sizeof(rdabt_pskey_5)/sizeof(rdabt_pskey_5[0]);i++)
   {
      rdabt_wirte_memory(rdabt_pskey_5[i][0],&rdabt_pskey_5[i][1],1,0);
      RDABT_DELAY(5);
   }
	
}


void rdabt_patch_write_r5(void)
{
#if defined( _RDA_PATCH_UART_) || defined(_RDA_PATCH_UART2_)
   kal_int32 i;
   for(i=0;i<sizeof(rda_patch_5)/sizeof(rda_patch_5[0]);i++)
   {
      rdabt_wirte_memory(rda_patch_5[i][0],&rda_patch_5[i][1],61,0);
      RDABT_DELAY(10);
   }	   
#endif      
}

void Rdabt_trap_write_r5(void)
{
   kal_int32 i;
   for(i=0;i<sizeof(rda_trap_5)/sizeof(rda_trap_5[0]);i++)
   {
      rdabt_wirte_memory(rda_trap_5[i][0],&rda_trap_5[i][1],1,0);

      RDABT_DELAY(5);
   }	
}


void Rdabt_rf_Write_uart_r5(void)
{

   kal_uint8 i;
   rdabt_wirte_memory(rda_rf_5[0][0],&rda_rf_5[0][1],1,0);      
   RDABT_DELAY(2);
	  
    for(i=1;i<(sizeof(rda_rf_5)/sizeof(rda_rf_5[0]))-1;i++)
   {
      rdabt_wirte_memory(rda_rf_5[i][0],&rda_rf_5[i][1],1,1);      
      RDABT_DELAY(5);
   }
   rdabt_wirte_memory(rda_rf_5[i][0],&rda_rf_5[i][1],1,0);      
   RDABT_DELAY(5);
	
}

void  RDABT_rf_Intialization_r5(void)
{
	unsigned char i=0;
	for(i =0;i<sizeof(rdabt_rf_init_5)/sizeof(rdabt_rf_init_5[0]); i++){
		rdabt_iic_rf_write_data(rdabt_rf_init_5[i][0],&rdabt_rf_init_5[i][1],1);		

	}
	RDABT_DELAY(10);  

}

void RDABT_core_Intialization_r5(void)
{
kal_prompt_trace(0,"RDABT_core_Intialization_r5");

#ifndef __RDABT_USE_IIC__
	Rdabt_rf_Write_uart_r5();	
#endif
       RDA_bt_Power_On_Reset();
   	RDABT_DELAY(20);

	Rdabt_Pskey_Write_r5(); 
	rdabt_patch_write_r5();
	Rdabt_trap_write_r5();
}

#endif//__RDA_CHIP_R5_5868__

#endif
